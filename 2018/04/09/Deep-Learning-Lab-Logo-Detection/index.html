<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹ - Ebby&#39;s Notes</title>


    <meta name="description" content="åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªæ£€æµ‹å“ç‰ŒLOGOçš„ç½‘ç»œï¼Œå¯¹æœºå™¨è§†è§‰çš„ç‰©ä½“è¯†åˆ«æŠ€æœ¯è¿›è¡ŒéªŒè¯ã€‚  @[toc] æ¦‚è¿°æœ€è¿‘åœ¨åšä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è¿›è¡Œè¶…å¸‚ç‰©å“æ£€ç‚¹çš„é¡¹ç›®è°ƒç ”åˆ†æï¼Œéœ€è¦å…ˆå¯»æ‰¾ä¸€ä¸ªå¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆéªŒè¯å¯è¡Œæ€§ï¼ŒFlickræä¾›çš„LOGOæ•°æ®é›†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å“ç‰ŒLOGOè¯†åˆ«ä¾‹å­ï¼Œæœ¬æ–‡è®°å½•åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªç‰©ä½“è¯†åˆ«çš„æ·±åº¦ç¥ç»ç½‘ç»œè¿‡ç¨‹ã€‚  æ•°æ®é›†Flickr LOGOæ•°æ®é›†">
<meta name="keywords" content="äººå·¥æ™ºèƒ½,æ·±åº¦å­¦ä¹ ,æŠ€æœ¯,ç®—æ³•">
<meta property="og:type" content="article">
<meta property="og:title" content="åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹">
<meta property="og:url" content="http://blog.a-stack.com/2018/04/09/Deep-Learning-Lab-Logo-Detection/index.html">
<meta property="og:site_name" content="Ebby&#39;s Notes">
<meta property="og:description" content="åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªæ£€æµ‹å“ç‰ŒLOGOçš„ç½‘ç»œï¼Œå¯¹æœºå™¨è§†è§‰çš„ç‰©ä½“è¯†åˆ«æŠ€æœ¯è¿›è¡ŒéªŒè¯ã€‚  @[toc] æ¦‚è¿°æœ€è¿‘åœ¨åšä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è¿›è¡Œè¶…å¸‚ç‰©å“æ£€ç‚¹çš„é¡¹ç›®è°ƒç ”åˆ†æï¼Œéœ€è¦å…ˆå¯»æ‰¾ä¸€ä¸ªå¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆéªŒè¯å¯è¡Œæ€§ï¼ŒFlickræä¾›çš„LOGOæ•°æ®é›†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å“ç‰ŒLOGOè¯†åˆ«ä¾‹å­ï¼Œæœ¬æ–‡è®°å½•åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªç‰©ä½“è¯†åˆ«çš„æ·±åº¦ç¥ç»ç½‘ç»œè¿‡ç¨‹ã€‚  æ•°æ®é›†Flickr LOGOæ•°æ®é›†">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://blog.a-stack.com/images/og_image.png">
<meta property="og:updated_time" content="2018-05-15T14:45:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹">
<meta name="twitter:description" content="åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªæ£€æµ‹å“ç‰ŒLOGOçš„ç½‘ç»œï¼Œå¯¹æœºå™¨è§†è§‰çš„ç‰©ä½“è¯†åˆ«æŠ€æœ¯è¿›è¡ŒéªŒè¯ã€‚  @[toc] æ¦‚è¿°æœ€è¿‘åœ¨åšä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è¿›è¡Œè¶…å¸‚ç‰©å“æ£€ç‚¹çš„é¡¹ç›®è°ƒç ”åˆ†æï¼Œéœ€è¦å…ˆå¯»æ‰¾ä¸€ä¸ªå¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆéªŒè¯å¯è¡Œæ€§ï¼ŒFlickræä¾›çš„LOGOæ•°æ®é›†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å“ç‰ŒLOGOè¯†åˆ«ä¾‹å­ï¼Œæœ¬æ–‡è®°å½•åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªç‰©ä½“è¯†åˆ«çš„æ·±åº¦ç¥ç»ç½‘ç»œè¿‡ç¨‹ã€‚  æ•°æ®é›†Flickr LOGOæ•°æ®é›†">
<meta name="twitter:image" content="http://blog.a-stack.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/idea.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    <script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?684368b6943d7a5b6689dba5e7bf30ad";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo02.png" alt="åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item"
                href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item"
                href="/categories">åˆ†ç±»</a>
                
                <a class="navbar-item"
                href="/tags">æ ‡ç­¾</a>
                
                <a class="navbar-item"
                href="/reading">è¯»ä¹¦</a>
                
                <a class="navbar-item"
                href="/resources">èµ„æº</a>
                
                <a class="navbar-item"
                href="/notebooks">ğŸ“</a>
                
                <a class="navbar-item"
                href="/about">å…³äº</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                

                <time class="level-item has-text-grey" datetime="2018-04-09T04:45:13.000Z">2018-04-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/åŠ¨æ‰‹å®è·µè¥/">åŠ¨æ‰‹å®è·µè¥</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    37 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 5528 ä¸ªå­—)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <i class="fas fa-angle-double-right"></i>åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹
            
        </h1>
        <div class="content">
            <p>åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªæ£€æµ‹å“ç‰ŒLOGOçš„ç½‘ç»œï¼Œå¯¹æœºå™¨è§†è§‰çš„ç‰©ä½“è¯†åˆ«æŠ€æœ¯è¿›è¡ŒéªŒè¯ã€‚</p>
<!-- excerpt -->
<p>@[toc]</p>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æœ€è¿‘åœ¨åšä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è¿›è¡Œè¶…å¸‚ç‰©å“æ£€ç‚¹çš„é¡¹ç›®è°ƒç ”åˆ†æï¼Œéœ€è¦å…ˆå¯»æ‰¾ä¸€ä¸ªå¯è¡Œçš„æŠ€æœ¯æ–¹æ¡ˆéªŒè¯å¯è¡Œæ€§ï¼ŒFlickræä¾›çš„LOGOæ•°æ®é›†æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å“ç‰ŒLOGOè¯†åˆ«ä¾‹å­ï¼Œæœ¬æ–‡è®°å½•åˆ©ç”¨Flickr LOGOæ•°æ®é›†è®­ç»ƒä¸€ä¸ªç‰©ä½“è¯†åˆ«çš„æ·±åº¦ç¥ç»ç½‘ç»œè¿‡ç¨‹ã€‚</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/b.gif" alt="b"></p>
<h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><p>Flickr LOGOæ•°æ®é›†æä¾›äº†ä¸‰ç§ä¸åŒç±»å‹çš„LOGOæ•°æ®é›†é›†åˆï¼Œåˆ†åˆ«ä¸º<a href="http://image.ntua.gr/iva/datasets/flickr_logos/">Flickr Logos 27 dataset</a>ï¼Œ<a href="http://www.multimedia-computing.de/flickrlogos/#flickrlogos47">Datasets: FlickrLogos-32</a>ä»¥åŠ<a href="http://www.multimedia-computing.de/flickrlogos/#flickrlogos47">Datasets: FlickrLogos-47</a>ã€‚æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹æ¯ç§æ•°æ®é›†çš„ç»„æˆåŠæ•°æ®ç»“æ„ï¼š</p>
<ol>
<li><p><a href="http://image.ntua.gr/iva/datasets/flickr_logos/">Flickr Logos 27 dataset</a></p>
<ul>
<li><p>è®­ç»ƒé›†åŒ…å«27ä¸ªåˆ†ç±»çš„810å¼ æ ‡è®°ç…§ç‰‡ï¼Œæ¯ä¸ªåˆ†ç±»30å¼ ç…§ç‰‡</p>
</li>
<li><p>åˆ†æ•£é›†åŒ…å«4207å¼ logoå›¾ç‰‡</p>
</li>
<li><p>æµ‹è¯•é›†æœ‰270å¼ ç…§ç‰‡ï¼Œæ¯ä¸ªåˆ†ç±»5å¼ ç…§ç‰‡ï¼Œå¦å¤–æœ‰135å¼ åˆ†ç±»å¤–ç…§ç‰‡é›†</p>
</li>
<li><p>27ä¸ªåˆ†ç±»åŒ…æ‹¬ï¼šAdidas, Apple, BMW, Citroen, Coca Cola, DHL, Fedex, Ferrari, Ford, Google, Heineken, HP, McDonalds, Mini, Nbc, Nike, Pepsi, Porsche, Puma, Red Bull, Sprite, Starbucks, Intel, Texaco, Unisef, Vodafone and Yahoo.</p>
</li>
<li><p>ä¸‹è½½åœ°å€ï¼š<a href="http://image.ntua.gr/iva/datasets/flickr_logos/flickr_logos_27_dataset.tar.gz">ä¸‹è½½</a></p>
</li>
<li><p>æ•°æ®æ ¼å¼ï¼šä¸‹è½½æ–‡ä»¶å¤¹ä¸­æä¾›ä¸€ä¸ª<code>txt</code>æ–‡ä»¶ç”¨äºæè¿°æ¯ä¸ªæ–‡ä»¶ä¸­LOGOçš„åˆ†ç±»å’Œä½ç½®ä¿¡æ¯</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  FileName ClassName subset   Coordinatesï¼ˆx1 y1 x2 y2ï¼‰</span></span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">91</span> <span class="number">288</span> <span class="number">125</span> <span class="number">306</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">182</span> <span class="number">63</span> <span class="number">229</span> <span class="number">94</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">192</span> <span class="number">291</span> <span class="number">225</span> <span class="number">306</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">285</span> <span class="number">61</span> <span class="number">317</span> <span class="number">79</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">285</span> <span class="number">298</span> <span class="number">324</span> <span class="number">329</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">377</span> <span class="number">292</span> <span class="number">421</span> <span class="number">324</span> </span><br><span class="line"><span class="number">4763210295.j</span>pg Adidas 	<span class="number">1</span> 		<span class="number">383</span> <span class="number">55</span> <span class="number">416</span> <span class="number">76</span> </span><br><span class="line"><span class="number">1230939811.j</span>pg Adidas 	<span class="number">2</span> 		<span class="number">129</span> <span class="number">326</span> <span class="number">257</span> <span class="number">423</span> </span><br><span class="line"><span class="number">1230939811.j</span>pg Adidas 	<span class="number">2</span> 		<span class="number">137</span> <span class="number">336</span> <span class="number">243</span> <span class="number">395</span></span><br></pre></td></tr></table></figure>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/dataset1_bboxes.jpg" alt="dataset1_bboxes"></p>
</li>
</ul>
</li>
<li><p><a href="http://www.multimedia-computing.de/flickrlogos/#flickrlogos47">Flickr Logos 32/47 dataset</a></p>
<blockquote>
<p>FlickrLogos-32 was designed for logo retrieval and multi-class logo detection and object recognition. However, the annotations for object detection were often incomplete,since only the most prominent logo instances were labelled. </p>
<p>FlickrLogos-47 uses the same image corpus as FlickrLogos-32 but has been re-annotated specifically for the task of object detection and recognition. </p>
</blockquote>
<p>2.1 Flickr Logos-32</p>
<ul>
<li><p>32ä¸ªåˆ†ç±»åŒ…æ‹¬ï¼š <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/adidas.jpg">Adidas</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/aldi.jpg">Aldi</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/apple.jpg">Apple</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/becks.jpg">Becks</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/bmw.jpg">BMW</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/carlsberg.jpg">Carlsberg</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/chimay.jpg">Chimay</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/cocacola.jpg">Coca-Cola</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/corona.jpg">Corona</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/dhl.jpg">DHL</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/erdinger.jpg">Erdinger</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/esso.jpg">Esso</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/fedex.jpg">Fedex</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ferrari.jpg">Ferrari</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ford.jpg">Ford</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/fosters.jpg">Fosterâ€™s</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/google.jpg">Google</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/guinness.jpg">Guiness</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/heineken.jpg">Heineken</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/hp.jpg">HP</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/milka.jpg">Milka</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/nvidia.jpg">Nvidia</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/paulaner.jpg">Paulaner</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/pepsi.jpg">Pepsi</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/rittersport.jpg">Ritter Sport</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/shell.jpg">Shell</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/singha.jpg">Singha</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/starbucks.jpg">Starbucks</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/stellaartois.jpg">Stella Artois</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/texaco.jpg">Texaco</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/tsingtao.jpg">Tsingtao</a> and <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ups.jpg">UPS</a></p>
</li>
<li><p>æ•°æ®é›†è¢«åˆ’åˆ†ä¸ºP1,P2,P3ä¸‰ä¸ªå­é›†ï¼š</p>
</li>
</ul>
</li>
</ol>
<div class="table-container">
<table>
<thead>
<tr>
<th>Partition</th>
<th>Description</th>
<th>Images</th>
<th>#Images</th>
</tr>
</thead>
<tbody>
<tr>
<td>P1 (training set)</td>
<td>Hand-picked images</td>
<td>10 per class</td>
<td>320 images</td>
</tr>
<tr>
<td>P2 (validation set)</td>
<td>Images showing at least a single logo under various views</td>
<td>30 per class + 3000 non-logo images</td>
<td>3960 images</td>
</tr>
<tr>
<td>P3 (test set = query set)</td>
<td>Images showing at least a single logo under various views</td>
<td>30 per class + 3000 non-logo images</td>
<td>3960 images</td>
</tr>
<tr>
<td>/</td>
<td>/</td>
<td>/</td>
<td>8240 images</td>
</tr>
</tbody>
</table>
</div>
<pre><code>2.2 FlickrLogos-47
</code></pre><ul>
<li>47ä¸ªåˆ†ç±»åŒ…æ‹¬ï¼š<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/adidas.jpg">Adidas (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/adidas.jpg">Adidas (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/aldi.jpg">Aldi</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/apple.jpg">Apple</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/becks.jpg">Becks (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/becks.jpg">Becks (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/bmw.jpg">BMW</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/carlsberg.jpg">Carlsberg (Symbol)</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/carlsberg.jpg">Carlsberg (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/chimay.jpg">Chimay (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/chimay.jpg">Chimay (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/cocacola.jpg">Coca-Cola</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/corona.jpg">Corona (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/corona.jpg">Corona (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/dhl.jpg">DHL</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/erdinger.jpg">Erdinger (Symbol)</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/erdinger.jpg">Erdinger (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/esso.jpg">Esso (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/esso.jpg">Esso (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/fedex.jpg">Fedex</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ferrari.jpg">Ferrari</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ford.jpg">Ford</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/fosters.jpg">Fosterâ€™s (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/fosters.jpg">Fosterâ€™s (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/google.jpg">Google</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/guinness.jpg">Guiness (Symbol)</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/guinness.jpg">Guiness (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/heineken.jpg">Heineken</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/hp.jpg">HP</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/milka.jpg">Milka (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/milka.jpg">Milka (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/nvidia.jpg">Nvidia (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/nvidia.jpg">Nvidia (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/paulaner.jpg">Paulaner (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/paulaner.jpg">Paulaner (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/pepsi.jpg">Pepsi (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/pepsi.jpg">Pepsi (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/rittersport.jpg">Ritter Sport</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/shell.jpg">Shell</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/singha.jpg">Singha (Symbol)</a>,<a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/singha.jpg">Singha (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/starbucks.jpg">Starbucks</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/stellaartois.jpg">Stella Artois (Symbol)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/stellaartois.jpg">Stella Artois (Text)</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/texaco.jpg">Texaco</a>, <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/tsingtao.jpg">Tsingtao (Symbol)</a> <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/tsingtao.jpg">Tsingtao (Text)</a> and <a href="http://www.multimedia-computing.de/flickrlogos/images/classes-small/ups.jpg">UPS</a>.</li>
</ul>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ul>
<li>Flickr Logoæ•°æ®é›†è™½ç„¶ç±»åˆ«æ•°ç›®ä¼—å¤šï¼Œä½†å…·ä½“åˆ°æ¯ä¸ªåˆ†ç±»æä¾›çš„æ ·æœ¬æ•°ç›®æœ‰é™ï¼Œåœ¨æ•°æ®é¢„å¤„ç†ç¯èŠ‚éœ€è¦é…åˆæ•°æ®å¢å¼ºæ‰‹æ®µæ¥æ‰©å……æ•°æ®é›†çš„æ•°ç›®ï¼›</li>
<li>å¦å¤–ä¹Ÿå¯ä»¥ä»¿ç…§è½¦ç‰Œè¯†åˆ«çš„æ–¹æ³•ï¼Œå°†æ‰£å–çš„LOGOå›¾åƒæ·»åŠ åˆ°ä¸åŒèƒŒæ™¯å™ªå£°çš„å›¾åƒä¸­ï¼Œç”Ÿæˆå¤šç§è®­ç»ƒæ•°æ®ï¼›</li>
<li>ç”±äºLOGOå›¾åƒåŒ…å«å›¾åƒç‰¹å¾æœ‰é™ï¼ŒåŒæ—¶æä¾›å°æ ·æœ¬æ•°æ®ï¼Œé€šè¿‡è¿ç§»å­¦ä¹ çš„æ–¹æ¡ˆåˆ©ç”¨ImageNetè®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¿ç§»å­¦ä¹ æ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹å¼ï¼Œæœ¬æ–‡å°†å¯¹è¿™ç§æ–¹å¼è¿›è¡Œè®¨è®ºåŠå®ç°ï¼›</li>
<li>ä¸‰ç§æ•°æ®é›†é¢å‘ä¸åŒçš„åŠŸèƒ½ä¹Ÿè®¾è®¡éœ€æ±‚ï¼Œä»å›¾åƒè´¨é‡ä¸Šæ¥çœ‹Flickr-47è´¨é‡ç›¸å¯¹è¾ƒå¥½ï¼ŒåŒæ—¶åœ¨32åˆ†ç±»å’Œ47åˆ†ç±»ä¸­æä¾›äº†å¯¹å›¾åƒè¯­ä¹‰åˆ†å‰²çš„æ ‡å®šæ•°æ®ï¼›</li>
</ul>
<p>åœ¨æ¦‚è§ˆè¿‡ä»»åŠ¡æ•°æ®é›†ä¹‹åï¼Œæˆ‘ä»¬å°†æŒ‰ç…§æ·±åº¦å­¦ä¹ ä¸šåŠ¡å¤„ç†æµç¨‹ï¼Œé€æ­¥è¿›è¡Œæ•°æ®çš„é¢„å¤„ç†ã€æ¨¡å‹å‡†å¤‡ã€è®­ç»ƒå’ŒéªŒè¯ç­‰å·¥ä½œã€‚ä¸ºç®€åŒ–é—®é¢˜å¤„ç†éš¾åº¦ï¼Œæˆ‘ä»¬ä½¿ç”¨Flickr Logo -27æ¥è¿›è¡Œæœ¬æ¬¡å®éªŒã€‚</p>
<h2 id="æ•°æ®å‡†å¤‡"><a href="#æ•°æ®å‡†å¤‡" class="headerlink" title="æ•°æ®å‡†å¤‡"></a>æ•°æ®å‡†å¤‡</h2><p>æ•°æ®å‡†å¤‡ç¯èŠ‚ä¸»è¦ä½¿ç”¨å¦‚ä¸‹åŸºæœ¬çš„å·¥å…·å’Œåº“æ–‡ä»¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.patches <span class="keyword">as</span> patches</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> imutils</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ</p>
<ul>
<li><code>numpy</code>ç”¨æ¥åšåŸºæœ¬çš„çŸ©é˜µå¤„ç†ï¼›</li>
<li><code>pandas</code>ç”¨äºè¯»å–å’Œåˆ†ææ•°æ®æè¿°æ–‡ä»¶ï¼›</li>
<li><code>matplotlib</code>ç”¨äºè¾…åŠ©æ˜¾ç¤ºé¢„å¤„ç†ç»“æœï¼›</li>
<li><code>cv2</code>æ˜¯opencvçš„pythonå°è£…ï¼Œè¿›è¡Œå›¾åƒè¯»å–ã€å›¾åƒåˆ†æç­‰æ“ä½œï¼›</li>
<li><code>imutils</code>æ˜¯ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å›¾åƒå¤„ç†åº“ï¼Œå¯ä»¥æ»¡è¶³åŸºæœ¬çš„å›¾åƒå¤„ç†éœ€æ±‚</li>
</ul>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆæŸ¥çœ‹ä»flickr-27ä¸Šä¸‹è½½çš„æ–‡ä»¶<code>flickr_logos_27_dataset_training_set_annotation.txt</code>æ¥äº†è§£åŸºæœ¬çš„å›¾åƒæ•°æ®ä¿¡æ¯å’Œåˆ†ç±»ä¿¡æ¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df=pd.read_csv(<span class="string">"./flickr_logos_27_dataset/flickr_logos_27_dataset_training_set_annotation.txt"</span>,sep=<span class="string">" "</span>, header=<span class="keyword">None</span>)</span><br><span class="line">df.drop(df.columns[<span class="number">-1</span>],axis=<span class="number">1</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df.columns=[<span class="string">"Name"</span>,<span class="string">"labels"</span>,<span class="string">"subset"</span>,<span class="string">"x1"</span>,<span class="string">"y1"</span>,<span class="string">"x2"</span>,<span class="string">"y2"</span>]</span><br><span class="line">df.head()</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">output:&gt;&gt;&gt;&gt;</span><br><span class="line">	     Name      labels subset      x1	y1	x2	y2</span><br><span class="line"><span class="number">0</span>	<span class="number">144503924.j</span>pg	Adidas	<span class="number">1</span>	<span class="number">38</span>	<span class="number">12</span>	<span class="number">234</span>	<span class="number">142</span></span><br><span class="line"><span class="number">1</span>	<span class="number">2451569770.j</span>pg	Adidas	<span class="number">1</span>	<span class="number">242</span>	<span class="number">208</span>	<span class="number">413</span>	<span class="number">331</span></span><br><span class="line"><span class="number">2</span>	<span class="number">390321909.j</span>pg	Adidas	<span class="number">1</span>	<span class="number">13</span>	<span class="number">5</span>	<span class="number">89</span>	<span class="number">60</span></span><br><span class="line"><span class="number">3</span>	<span class="number">4761260517.j</span>pg	Adidas	<span class="number">1</span>	<span class="number">43</span>	<span class="number">122</span>	<span class="number">358</span>	<span class="number">354</span></span><br><span class="line"><span class="number">4</span>	<span class="number">4763210295.j</span>pg	Adidas	<span class="number">1</span>	<span class="number">83</span>	<span class="number">63</span>	<span class="number">130</span>	<span class="number">93</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æè¿°æ–‡ä»¶ä¸­æ€»å…±æä¾›äº†4536æ¡è®°å½•ï¼Œè€Œå®é™…æä¾›çš„å›¾åƒæ–‡ä»¶åªæœ‰1000å¤šå¼ ï¼Œè¿™è¯´æ˜å¾ˆå¤šæ–‡ä»¶åŒ…æ‹¬ä¸æ­¢ä¸€ä¸ªLOGOã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len(df)</span><br><span class="line">&gt;&gt;&gt;: <span class="number">4536</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥åˆ©ç”¨<code>pandas</code>å¯¹æ–‡ä»¶è¿›è¡Œä¸€ä¸ªç®€å•çš„shuffleå¤„ç†ï¼Œä¾¿äºå¿«é€Ÿåˆ‡åˆ†æˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shuffle the datasets</span></span><br><span class="line">df = df.sample(frac=<span class="number">1</span>).reset_index(drop=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†å¿«é€ŸæŸ¥çœ‹æè¿°æ–‡ä»¶æä¾›çš„æ ‡è®°ä¿¡æ¯åœ¨å›¾åƒä¸­çš„æ˜¾ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªå‡½æ•°æ¥æŸ¥çœ‹ä¸€ä¸‹LOGOæ ‡è®°ä¿¡æ¯çš„æ•ˆæœï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_image</span><span class="params">(id)</span>:</span></span><br><span class="line">    fig = plt.figure()</span><br><span class="line">    image = os.path.join(<span class="string">"./flickr_logos_27_dataset/flickr_logos_27_dataset_images/"</span>,df.loc[id][<span class="string">"Name"</span>])</span><br><span class="line">    image = cv2.imread(image)</span><br><span class="line">    plt.figure(<span class="number">8</span>)</span><br><span class="line">    plt.imshow(image)</span><br><span class="line">    currentAxis=plt.gca()</span><br><span class="line">    rect=patches.Rectangle((df[<span class="string">"x1"</span>].iloc[id], df[<span class="string">"y1"</span>].iloc[id]),</span><br><span class="line">                           df[<span class="string">"x2"</span>].iloc[id]-df[<span class="string">"x1"</span>].iloc[id],</span><br><span class="line">                           df[<span class="string">"y2"</span>].iloc[id]-df[<span class="string">"y1"</span>].iloc[id],</span><br><span class="line">                           linewidth=<span class="number">2</span>,edgecolor=<span class="string">'r'</span>,facecolor=<span class="string">'none'</span>)</span><br><span class="line">    currentAxis.add_patch(rect)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å…¶ä¸­ç”¨åˆ°äº†<code>plt.gca()</code>å’Œmatplotlibçš„<code>patches</code>å‡½æ•°ç”¨äºå›¾åƒçš„å åŠ æ˜¾ç¤ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨<code>cv2.rectangle</code>å‡½æ•°</p>
</blockquote>
<p>éšæœºæŸ¥çœ‹ä¸€ä¸ªæ ‡è®°åœ¨å›¾åƒä¸­çš„æ˜¾ç¤ºæ•ˆæœ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">id = random.randint(<span class="number">0</span>,len(df))</span><br><span class="line">show_image(id)</span><br></pre></td></tr></table></figure>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/BMW_sample.png" alt="BMW_sample"></p>
<p>ä¸‹é¢éœ€è¦å†™ä¸€ä¸ªæŠ å›¾ç¨‹åºï¼ŒæŠŠæ‰€æœ‰LOGOä»åŸå§‹å›¾åƒä¸­æ‰£å–å‡ºæ¥ï¼Œå½¢æˆè®­ç»ƒç”¨æ•°æ®é›†ï¼Œåœ¨ä¿å­˜å›¾åƒä¹‹å‰è¿›è¡Œå›¾åƒç®€å•çš„é¢„å¤„ç†å’Œè°ƒæ•´å½¢çŠ¶ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">crop_img</span><span class="params">(id)</span>:</span></span><br><span class="line">    image = os.path.join(<span class="string">"./flickr_logos_27_dataset/flickr_logos_27_dataset_images/"</span>,df.loc[id][<span class="string">"Name"</span>])</span><br><span class="line">    image = cv2.imread(image)</span><br><span class="line">    crop_image = image[df[<span class="string">"y1"</span>].iloc[id]:df[<span class="string">"y2"</span>].iloc[id],df[<span class="string">"x1"</span>].iloc[id]:df[<span class="string">"x2"</span>].iloc[id]]</span><br><span class="line">    <span class="keyword">return</span> crop_image</span><br><span class="line">  </span><br><span class="line">WIDTH = <span class="number">64</span></span><br><span class="line">HEIGHT = <span class="number">64</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> id, name <span class="keyword">in</span> enumerate(df[<span class="string">"Name"</span>]):</span><br><span class="line">    cropped_image = crop_img(id)</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        resized_image = cv2.resize(cropped_image, 	     </span><br><span class="line">                                   (WIDTH,HEIGHT),interpolation=cv2.INTER_CUBIC)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(id)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    image_name = str(id)+<span class="string">"_"</span>+df.iloc[id][<span class="string">"labels"</span>]+<span class="string">".jpg"</span></span><br><span class="line">    cv2.imwrite(os.path.join(<span class="string">"./flickr_logos_27_dataset/cropped/"</span>,image_name),resized_image)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>åœ¨å›¾åƒæ‰£å–è¿‡ç¨‹ä¸­ï¼Œæœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ol>
<li>ç”±äºæè¿°é—®é¢˜æä¾›çš„ä¿¡æ¯æœ¬èº«çš„é—®é¢˜ï¼Œæœ‰ä¸€äº›å¼‚å¸¸æ•°æ®éœ€è¦å‰”é™¤ï¼Œæ¯”å¦‚æœ‰5æ¡è®°å½•æä¾›çš„x1=x2,æˆ–y1=y2ï¼Œå³åœ¨åŸå§‹å›¾åƒä¸Šæ²¡æœ‰è¿›è¡Œæ ‡è®°ï¼›</li>
<li>å›¾åƒç¼©æ”¾å…¶å®ä¸åº”è¯¥é‡‡ç”¨è¿™ç§å‚»ç“œçš„å‹ç¼©æ–¹å¼ï¼Œåº”è¯¥å°½é‡æ§åˆ¶é•¿å®½æ¯”ï¼Œä¿è¯ä¸äº§ç”Ÿæ˜æ˜¾çš„å½¢å˜ï¼›</li>
</ol>
</blockquote>
<p>å¤„ç†å®Œæˆä¹‹åï¼Œæ‰£å–å›¾åƒå°†åœ¨<code>cropped</code>æ–‡ä»¶å¤¹ä¸­ä»¥<code>{id}_{label}.jpg</code>çš„æ–‡ä»¶åå­˜å‚¨ã€‚</p>
<p>å›¾åƒæ‰£å–ä¹‹åï¼Œé€šè¿‡äººå·¥æ ¸å¯¹ï¼Œæˆ‘ä»¬å‘ç°ä»ç„¶å­˜åœ¨ä¸€äº›æ˜æ˜¾æœ‰é—®é¢˜çš„å›¾åƒï¼Œæ¯”å¦‚å¤šå¼ pumaçš„å›¾åƒï¼Œå…¶å®å­˜åœ¨æ˜æ˜¾çš„æ ‡è®°é—®é¢˜ï¼Œéœ€è¦ä»æ•°æ®é›†ä¸­å‰”é™¤ï¼š</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/puma_error_img.png" alt="puma_error_img"></p>
<h3 id="æ•°æ®é›†åˆ‡åˆ†"><a href="#æ•°æ®é›†åˆ‡åˆ†" class="headerlink" title="æ•°æ®é›†åˆ‡åˆ†"></a>æ•°æ®é›†åˆ‡åˆ†</h3><p>æˆ‘ä»¬å°†æ‰£å–æ•°æ®è¯»å…¥è¿›è¡Œç®€å•é¢„å¤„ç†å’Œæ•°æ®åˆ‡åˆ†ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">data = []</span><br><span class="line">labels = []</span><br><span class="line"><span class="keyword">for</span> img <span class="keyword">in</span> os.listdir(<span class="string">"./flickr_logos_27_dataset/cropped/"</span>):</span><br><span class="line">    img_file = cv2.imread(os.path.join(<span class="string">"./flickr_logos_27_dataset/cropped/"</span>,img))</span><br><span class="line">    data.append(img_file)</span><br><span class="line">    labels.append(img.split(<span class="string">"_"</span>)[<span class="number">1</span>].split(<span class="string">"."</span>)[<span class="number">0</span>])</span><br><span class="line">data = np.stack(data)</span><br><span class="line">labels = np.stack(labels)</span><br><span class="line"></span><br><span class="line">data = data/<span class="number">255</span></span><br></pre></td></tr></table></figure>
<p>å°†æ ‡ç­¾æ•°æ®è½¬å˜æˆOneHotçŸ©é˜µï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelBinarizer</span><br><span class="line">le = LabelBinarizer()</span><br><span class="line">labels = le.fit_transform(labels)</span><br></pre></td></tr></table></figure>
<p>åˆ‡åˆ†æ•°æ®é›†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">X,testX,y,testy = train_test_split(data, labels,test_size=<span class="number">0.1</span>,stratify=labels,random_state=<span class="number">42</span> )</span><br></pre></td></tr></table></figure>
<h3 id="æ•°æ®å¢å¼º"><a href="#æ•°æ®å¢å¼º" class="headerlink" title="æ•°æ®å¢å¼º"></a>æ•°æ®å¢å¼º</h3><p>æ•°æ®å¢å¼ºæ˜¯å›¾åƒå¤„ç†ä¸­ç»å¸¸é‡‡ç”¨çš„ä¸€ç§æ•°æ®å¤„ç†æ–¹å¼ï¼Œç”±äºæ¶‰åŠå†…å®¹è¾ƒå¤šï¼Œåœ¨æœ¬ç¯‡å®æˆ˜ä¸­ä¸å•ç‹¬å±•å¼€ï¼Œä»…æŠŠåˆ©ç”¨Kerasæ•°æ®å¢å¼ºå·¥å…·<code>ImageDataGenerator</code>çš„æ–¹æ³•æä¾›ä¸€ä¸‹ï¼š</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.preprocessing.image import ImageDataGenerator </span><br><span class="line"><span class="comment"># construct the training image generator for data augmentation</span></span><br><span class="line">aug = ImageDataGenerator(<span class="attribute">rotation_range</span>=18, <span class="attribute">zoom_range</span>=0.15,</span><br><span class="line">	<span class="attribute">width_shift_range</span>=0.2, <span class="attribute">height_shift_range</span>=0.2, <span class="attribute">shear_range</span>=0.15,</span><br><span class="line">	<span class="attribute">horizontal_flip</span>=<span class="literal">True</span>, <span class="attribute">fill_mode</span>=<span class="string">"nearest"</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">gen_flow</span>=aug.flow(X, y,<span class="attribute">batch_size</span>=64,seed=0)</span><br><span class="line"><span class="attribute">validation</span>=aug.flow(testX,testy,batch_size=32,seed=0)</span><br></pre></td></tr></table></figure>
<h2 id="æ¨¡å‹å®šä¹‰"><a href="#æ¨¡å‹å®šä¹‰" class="headerlink" title="æ¨¡å‹å®šä¹‰"></a>æ¨¡å‹å®šä¹‰</h2><p>æ ¹æ®å‰æ–‡å¯¹æ•°æ®çš„åˆ†æï¼Œæˆ‘ä»¬åˆ†åˆ«é‡‡å–ä¸¤ç§æ–¹å¼è®¾è®¡ç½‘ç»œæ¨¡å‹ï¼šä»å¤´è®­ç»ƒä¸€ä¸ªæ·±åº¦å·ç§¯ç¥ç»ç½‘ç»œå’Œåˆ©ç”¨è¿ç§»å­¦ä¹ Fine-Tuneä¸€ä¸ªæ»¡è¶³éœ€æ±‚çš„ç½‘ç»œæ¨¡å‹ã€‚</p>
<h3 id="ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹"><a href="#ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹" class="headerlink" title="ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹"></a>ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹</h3><p>ç”±äºé—®é¢˜æœ¬è´¨æ˜¯ä¸€ä¸ªç‰©ä½“è¯†åˆ«ä»»åŠ¡ï¼Œæ‰€ä»¥åœ¨å®ç°ä¸Šåº”è¯¥åŒ…æ‹¬å›¾åƒåˆ†ç±»å’Œå®šä½çš„å›å½’ä¸¤ä¸ªå­ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥ç®€åŒ–é—®é¢˜é€šè¿‡ä¸€ä¸ªæ»‘åŠ¨çª—å£æ¥å¯¹è¾“å…¥å›¾åƒè¿›è¡Œæ‰«æï¼Œç„¶åé’ˆå¯¹æ¯ä¸ªæ‰«æçª—å£è¿›è¡Œå›¾åƒåˆ†ç±»ã€‚</p>
<blockquote>
<p>å½“ç„¶å®é™…è¿‡ç¨‹ä¸­ï¼Œé—®é¢˜è¦è¿œæ¯”è¿™å¤æ‚ï¼Œå¾ˆéš¾é€‰æ‹©åˆé€‚çš„æ»‘åŠ¨çª—å£å¤§å°é€‚ç”¨ç°å®å›¾åƒçš„éœ€æ±‚ï¼Œæ‰€ä»¥åœ¨ä¸»æµçš„ç‰©ä½“è¯†åˆ«æ¨¡å‹ä¸­ä¸€èˆ¬éƒ½é‡‡ç”¨å¤šç§ä¸åŒå¤§å°çš„Anchor boxæ¥å›å½’å›¾åƒçš„ä½ç½®ã€‚</p>
</blockquote>
<p>ç”±äºLOGOæ¯å¼ å›¾åƒåŒ…å«ç‰¹å¾æœ‰é™ï¼Œæˆ‘ä»¬åœ¨æœ¬æ¬¡å®éªŒä¸­åˆ©ç”¨<strong>LeNet</strong>çš„æ¶æ„ï¼Œè®¾è®¡äº†ä¸€ä¸ªç®€å•çš„å·ç§¯ç½‘ç»œæ¨¡å‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/model.png" alt="model"></p>
<p>æ¨¡å‹ä¸»ä½“åˆ©ç”¨ä¸‰ä¸ª<code>CONV =&gt; RELU =&gt; POOL</code>ç»“æ„æ¥æŠ½å–å›¾åƒç‰¹å¾ï¼Œæœ€ååˆ©ç”¨å…¨è”é€šç½‘ç»œ+Softmaxåˆ†ç±»å™¨æ¥è·å¾—æœ€ç»ˆ27ç±»åˆ†ç±»ç»“æœã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> Conv2D</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> MaxPooling2D</span><br><span class="line"><span class="keyword">from</span> keras.layers.core <span class="keyword">import</span> Activation</span><br><span class="line"><span class="keyword">from</span> keras.layers.core <span class="keyword">import</span> Flatten</span><br><span class="line"><span class="keyword">from</span> keras.layers.core <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">model = Sequential()</span><br><span class="line">inputShape = (HEIGHT, WIDTH, <span class="number">3</span>)</span><br><span class="line">        <span class="comment"># first set of CONV =&gt; RELU =&gt; POOL layers</span></span><br><span class="line">model.add(Conv2D(<span class="number">16</span>, (<span class="number">3</span>, <span class="number">3</span>), padding=<span class="string">"same"</span>,input_shape=inputShape))</span><br><span class="line">model.add(Activation(<span class="string">"relu"</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), strides=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># second set of CONV =&gt; RELU =&gt; POOL layers</span></span><br><span class="line">model.add(Conv2D(<span class="number">32</span>, (<span class="number">3</span>, <span class="number">3</span>), padding=<span class="string">"same"</span>))</span><br><span class="line">model.add(Activation(<span class="string">"relu"</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), strides=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># third set of CONV =&gt; RELU =&gt; POOL layers</span></span><br><span class="line">model.add(Conv2D(<span class="number">64</span>, (<span class="number">3</span>, <span class="number">3</span>), padding=<span class="string">"same"</span>))</span><br><span class="line">model.add(Activation(<span class="string">"relu"</span>))</span><br><span class="line">model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>), strides=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># first (and only) set of FC =&gt; RELU layers</span></span><br><span class="line">model.add(Flatten())</span><br><span class="line">model.add(Dense(<span class="number">500</span>))</span><br><span class="line">model.add(Activation(<span class="string">"relu"</span>))</span><br><span class="line">model.add(Dropout(<span class="number">0.25</span>))</span><br><span class="line"><span class="comment"># softmax classifier</span></span><br><span class="line">model.add(Dense(len(CLASSNAME)))</span><br><span class="line">model.add(Activation(<span class="string">"softmax"</span>))</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰ç›®æ ‡ä¼˜åŒ–å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> keras.optimizers <span class="keyword">import</span> Adam,SGD,RMSprop</span><br><span class="line">opt = RMSprop(lr=<span class="number">0.001</span>, rho=<span class="number">0.9</span>)</span><br><span class="line">model.compile(loss=<span class="string">"categorical_crossentropy"</span>, optimizer=opt,metrics=[<span class="string">"accuracy"</span>])</span><br></pre></td></tr></table></figure>
<p>è¿­ä»£è®­ç»ƒ100ä¸ªepoch:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">history=model.fit_generator(</span><br><span class="line">	gen_flow,</span><br><span class="line">	steps_per_epoch=len(X) // <span class="number">32</span>,</span><br><span class="line">	validation_data=aug.flow(testX,testy,batch_size=<span class="number">32</span>,seed=<span class="number">0</span>),</span><br><span class="line">	validation_steps=len(testX) // <span class="number">32</span>,</span><br><span class="line">	epochs=<span class="number">100</span>,</span><br><span class="line">	verbose=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>100è½®ä¹‹åï¼ŒéªŒè¯é›†è¾¾åˆ°äº†99.89%çš„å‡†ç¡®ç‡ï¼ŒåŸºæœ¬æ»¡è¶³äº†è¦æ±‚ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­è®­ç»ƒæ•°æ®å’ŒéªŒè¯æ•°æ®çš„å‡†ç¡®ç‡åŠLosså˜åŒ–è¯¦è§ä¸‹å›¾ï¼š</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/accuracy_curve.png" alt="accuracy_curve"></p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/loss_curve.png" alt="loss_curve"></p>
<h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize = (<span class="number">15</span>,<span class="number">40</span>))</span><br><span class="line"><span class="keyword">for</span> i,test_img <span class="keyword">in</span> enumerate(os.listdir(<span class="string">"./test"</span>)):</span><br><span class="line">    img = cv2.imread(os.path.join(<span class="string">"./test"</span>,test_img))</span><br><span class="line">    img = cv2.resize(img, (WIDTH,HEIGHT),interpolation=cv2.INTER_CUBIC)</span><br><span class="line">    img = np.expand_dims(img,axis=<span class="number">0</span>)</span><br><span class="line">    result = model.predict(img)</span><br><span class="line">    result = le.inverse_transform(result)</span><br><span class="line">    plt.subplot(<span class="number">8</span>,<span class="number">4</span>, i+<span class="number">1</span>)</span><br><span class="line">    img = cv2.cvtColor(img[<span class="number">0</span>],  cv2.COLOR_BGR2RGB)</span><br><span class="line">    plt.imshow(img)</span><br><span class="line">    plt.title(<span class="string">'pred:'</span> + str(result[<span class="number">0</span>]))</span><br></pre></td></tr></table></figure>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/test_result.png" alt="test_result"></p>
<h3 id="è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”"><a href="#è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”" class="headerlink" title="è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”"></a>è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”</h3><p>å…¶ä¸­æ»‘åŠ¨çª—å£ç”¨æ¥éå†å›¾åƒï¼Œç‰¹å¾é‡‘å­—å¡”ç”¨äºå®ç°å›¾åƒçš„å¤šå°ºåº¦å˜æ¢ï¼Œä¿è¯å¤šç§ä¸åŒå¤§å°çš„LOGOéƒ½å¯ä»¥è¢«å‡†ç¡®è¯†åˆ«ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sliding_window</span><span class="params">(image, step, ws)</span>:</span></span><br><span class="line">	<span class="comment"># slide a window across the image</span></span><br><span class="line">	<span class="keyword">for</span> y <span class="keyword">in</span> range(<span class="number">0</span>, image.shape[<span class="number">0</span>] - ws[<span class="number">1</span>], step):</span><br><span class="line">		<span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">0</span>, image.shape[<span class="number">1</span>] - ws[<span class="number">0</span>], step):</span><br><span class="line">			<span class="comment"># yield the current window</span></span><br><span class="line">			<span class="keyword">yield</span> (x, y, image[y:y + ws[<span class="number">1</span>], x:x + ws[<span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">image_pyramid</span><span class="params">(image, scale=<span class="number">1.5</span>, minSize=<span class="params">(<span class="number">64</span>, <span class="number">64</span>)</span>)</span>:</span></span><br><span class="line">	<span class="comment"># yield the original image</span></span><br><span class="line">	<span class="keyword">yield</span> image</span><br><span class="line"></span><br><span class="line">	<span class="comment"># keep looping over the image pyramid</span></span><br><span class="line">	<span class="keyword">while</span> <span class="keyword">True</span>:</span><br><span class="line">		<span class="comment"># compute the dimensions of the next image in the pyramid</span></span><br><span class="line">		w = int(image.shape[<span class="number">1</span>] / scale)</span><br><span class="line">		image = imutils.resize(image, width=w)</span><br><span class="line"></span><br><span class="line">		<span class="comment"># if the resized image does not meet the supplied minimum</span></span><br><span class="line">		<span class="comment"># size, then stop constructing the pyramid</span></span><br><span class="line">		<span class="keyword">if</span> image.shape[<span class="number">0</span>] &lt; minSize[<span class="number">1</span>] <span class="keyword">or</span> image.shape[<span class="number">1</span>] &lt; minSize[<span class="number">0</span>]:</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">		<span class="comment"># yield the next image in the pyramid</span></span><br><span class="line">		<span class="keyword">yield</span> image</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>ç‰¹å¾é‡‘å­—å¡”</strong>ï¼š</p>
<p>ä¸ºäº†æ£€æµ‹ä¸åŒå°ºåº¦çš„ç›®æ ‡ï¼Œä¾æ¬¡å°†åŸå›¾æŒ‰æ¯”ä¾‹ç¼©æ”¾å¹¶é€å…¥ç½‘ç»œã€‚ç¼ºç‚¹æ˜¯éœ€è¦å¤šæ¬¡resizeå›¾åƒï¼Œç¹çè€—æ—¶ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å®šä¹‰äº†è¾“å…¥å›¾åƒçš„å°ºå¯¸ä¸º(150,150)ï¼Œæ»‘åŠ¨çª—å£å¤§å°ä¸æˆ‘ä»¬å‰é¢è®­ç»ƒçš„åˆ†ç±»ç½‘ç»œçš„è¾“å…¥ä¸€è‡´ä¸º(64,64),ç‰¹å¾é‡‘å­—å¡”çš„ç¼©å°æ¯”ä¾‹ä¸º1.5å€ï¼Œè¿™æ ·å°†åœ¨åŸå§‹å›¾åƒåŸºç¡€ä¸Šè¿›è¡Œä¸¤æ¬¡ç¼©æ”¾ï¼›å¦å¤–å®šä¹‰äº†æ»‘åŠ¨çª—å£çš„æ­¥é•¿ä¸º16ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># initialize variables used for the object detection procedure</span></span><br><span class="line">INPUT_SIZE = (<span class="number">150</span>, <span class="number">150</span>)</span><br><span class="line">PYR_SCALE = <span class="number">1.5</span></span><br><span class="line">WIN_STEP = <span class="number">16</span></span><br><span class="line">ROI_SIZE = (<span class="number">64</span>, <span class="number">64</span>)</span><br><span class="line"></span><br><span class="line">labels = &#123;&#125;</span><br><span class="line">CLASS_NAMES = list(lb.classes_)</span><br></pre></td></tr></table></figure>
<p>ä¸ºç®€åŒ–åç»­åˆ†æï¼Œå®šä¹‰ä¸€ä¸ªé¢„æµ‹å‡½æ•°ï¼Œç”¨äºè¿”å›å›¾åƒä¸­é¢„æµ‹å‡†ç¡®ç‡è¶…è¿‡minProbçª—å£åŠå¯¹è±¡åˆ†ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logo_prediction</span><span class="params">(model, batchROIs, batchLocs, labels, minProb=<span class="number">0.5</span>,dims=<span class="params">(<span class="number">64</span>, <span class="number">64</span>)</span>)</span>:</span></span><br><span class="line">    preds = model.predict(batchROIs)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(preds)):</span><br><span class="line">        prob = np.max(preds[i])</span><br><span class="line">        <span class="keyword">if</span> prob &gt; <span class="number">0.5</span>:</span><br><span class="line">            index = np.argmax(preds[i])</span><br><span class="line">            label = CLASS_NAMES[int(index)]</span><br><span class="line">            <span class="comment"># grab the coordinates of the sliding window for</span></span><br><span class="line">            <span class="comment"># the prediction and construct the bounding box</span></span><br><span class="line">            (pX, pY) = batchLocs[i]</span><br><span class="line">            box = (pX, pY, pX + dims[<span class="number">0</span>], pY + dims[<span class="number">1</span>])</span><br><span class="line">            L = labels.get(label, [])</span><br><span class="line">            L.append((box,prob))</span><br><span class="line">            labels[label] = L</span><br><span class="line">    <span class="keyword">return</span> labels</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å°†éå†æ¯ä¸ªç‰¹å¾é‡‘å­—å¡”å’Œæ¯ä¸ªæ»‘åŠ¨çª—å£ï¼Œå¯¹è¯†åˆ«ç»“æœè¿›è¡Œé¢„æµ‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">img_file = <span class="string">"./test/2.jpg"</span></span><br><span class="line">orig = cv2.imread(img_file)</span><br><span class="line"><span class="comment"># resize the input image to be a square</span></span><br><span class="line">resized = cv2.resize(orig, INPUT_SIZE, interpolation=cv2.INTER_CUBIC)</span><br><span class="line"></span><br><span class="line"><span class="comment"># initialize the batch ROIs and (x, y)-coordinates</span></span><br><span class="line">batchROIs = <span class="keyword">None</span></span><br><span class="line">batchLocs = []</span><br><span class="line"><span class="comment"># loop over the image pyramid</span></span><br><span class="line"><span class="keyword">for</span> image <span class="keyword">in</span> image_pyramid(resized, scale=PYR_SCALE,minSize=ROI_SIZE):</span><br><span class="line">    <span class="comment"># loop over the sliding window locations</span></span><br><span class="line">    <span class="keyword">for</span> (x, y, roi) <span class="keyword">in</span> sliding_window(resized, WIN_STEP, ROI_SIZE):</span><br><span class="line">        <span class="comment"># take the ROI and pre-process it so we can later classify the</span></span><br><span class="line">        <span class="comment"># region with Keras</span></span><br><span class="line">        <span class="comment">#roi = img_to_array(roi)</span></span><br><span class="line">        roi = roi/<span class="number">255</span></span><br><span class="line">        roi = np.expand_dims(roi, axis=<span class="number">0</span>)</span><br><span class="line">        <span class="comment"># roi = imagenet_utils.preprocess_input(roi)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if the batch is None, initialize it</span></span><br><span class="line">        <span class="keyword">if</span> batchROIs <span class="keyword">is</span> <span class="keyword">None</span>:</span><br><span class="line">            batchROIs = roi</span><br><span class="line"></span><br><span class="line">        <span class="comment"># otherwise, add the ROI to the bottom of the batch</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            batchROIs = np.vstack([batchROIs, roi])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># add the (x, y)-coordinates of the sliding window to the batch</span></span><br><span class="line">        batchLocs.append((x, y))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># classify the batch, then reset the batch ROIs and</span></span><br><span class="line">    <span class="comment"># (x, y)-coordinates</span></span><br><span class="line">    model.predict(batchROIs)</span><br><span class="line">    labels = logo_prediction(model, batchROIs, batchLocs,labels, minProb=<span class="number">0.9</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å½“è¿›è¡Œåˆ°è¿™æ­¥éª¤æ‰çªç„¶å‘ç°è®­ç»ƒåˆ†ç±»ä¸­ç¼ºäº†ä¸€ä¸ªå¾ˆé‡è¦çš„èƒŒæ™¯åˆ†ç±»ï¼Œå°†å¯¼è‡´åœ¨èƒŒæ™¯ä¸Šå¾ˆå¤šä¿¡æ¯çš„é¢„æµ‹ä¼šå‡ºé—®é¢˜ï¼Œåç»­ç­‰æ•´äº›èƒŒæ™¯å›¾ç‰‡å†é‡æ–°è®­ç»ƒç½‘ç»œï¼ŒğŸ˜­</p>
</blockquote>
<p>æœ€åä¸€æ­¥æ˜¯é¢„æµ‹ç»“æœçš„<strong>æå¤§å€¼æŠ‘åˆ¶</strong>å’Œæ˜¾ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> imutils.object_detection <span class="keyword">import</span> non_max_suppression</span><br><span class="line"><span class="comment"># loop over the labels for each of detected objects in the image</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> labels.keys():</span><br><span class="line">	<span class="comment"># clone the input image so we can draw on it</span></span><br><span class="line">	clone = resized.copy()</span><br><span class="line"></span><br><span class="line">	<span class="comment"># loop over all bounding boxes for the label and draw them on the image</span></span><br><span class="line">	<span class="keyword">for</span> (box, prob) <span class="keyword">in</span> labels[k]:</span><br><span class="line">		(xA, yA, xB, yB) = box</span><br><span class="line">		cv2.rectangle(clone, (xA, yA), (xB, yB), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># grab the bounding boxes and associated probabilities for each</span></span><br><span class="line">	<span class="comment"># detection, then apply non-maxima suppression to suppress</span></span><br><span class="line">	<span class="comment"># weaker, overlapping detections</span></span><br><span class="line">	boxes = np.array([p[<span class="number">0</span>] <span class="keyword">for</span> p <span class="keyword">in</span> labels[k]])</span><br><span class="line">	proba = np.array([p[<span class="number">1</span>] <span class="keyword">for</span> p <span class="keyword">in</span> labels[k]])</span><br><span class="line">	boxes = non_max_suppression(boxes, proba)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># loop over the bounding boxes again, this time only drawing the</span></span><br><span class="line">	<span class="comment"># ones that were *not* suppressed</span></span><br><span class="line">	<span class="keyword">for</span> (xA, yA, xB, yB) <span class="keyword">in</span> boxes:</span><br><span class="line">		cv2.rectangle(clone, (xA, yA), (xB, yB), (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment"># show the output image</span></span><br><span class="line">	print(<span class="string">"[INFO] &#123;&#125;: &#123;&#125;"</span>.format(k, len(boxes)))</span><br><span class="line">	plt.imshow(clone)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>æå¤§å€¼æŠ‘åˆ¶æ˜¯ç‰©ä½“è¯†åˆ«ä¸­å¾ˆé‡è¦çš„ä¸€ä¸ªç¯èŠ‚ï¼Œç›¸å…³æ¦‚å¿µä»¥ååœ¨æ…¢æ…¢æ•´ç†</p>
</blockquote>
<h3 id="åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹"><a href="#åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹" class="headerlink" title="åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹"></a>åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹</h3><p>ä¸Šè¿°æ–¹æ³•è™½ç„¶ç®€å•å®¹æ˜“ç†è§£ï¼Œä½†å­˜åœ¨å¾ˆå¤§çš„è®¡ç®—æ•ˆç‡é—®é¢˜ï¼Œæ¯å¼ å›¾ç‰‡éœ€è¦è¿›è¡Œå¤šæ¬¡ç‰¹å¾æå–å’Œå¤šæ¬¡è¿ç®—ï¼Œå¯¹è®¡ç®—æ•ˆç‡é€ æˆå¾ˆå¤§å½±å“ã€‚ç›®å‰ä¸»æµçš„ç‰©ä½“è¯†åˆ«ç®—æ³•å¾€å¾€éƒ½å¯ä»¥åº”ç”¨äºå®æ—¶è§†é¢‘æµçš„åˆ†æï¼Œæ˜¾ç„¶ä½¿ç”¨ä¸Šè¿°æ–¹æ³•æ˜¯ä¸åˆé€‚çš„ã€‚æˆ‘ä»¬å°†åœ¨åé¢æ¢è®¨åˆ©ç”¨ç°æœ‰çš„ç‰©ä½“è¯†åˆ«ç½‘ç»œé€šè¿‡è¿ç§»å­¦ä¹ è§£å†³æˆ‘ä»¬çš„ç›®æ ‡è¯†åˆ«é—®é¢˜ã€‚</p>
<p>ç”±äºæœ¬ç¯‡å†…å®¹å¤ªå¤šï¼Œåˆ©ç”¨è¿ç§»å­¦ä¹ å®ç°çš„æ–¹æ³•ï¼Œå°†å•ç‹¬ä½œä¸ºä¸€ç¯‡ï¼Œæ­¤å¤„ç•™å¾…æ’å…¥<strong>é“¾æ¥</strong>ã€‚</p>
<p>æœ¬æ–‡æ¶‰åŠä»£ç è¯¦è§<a href="https://github.com/ddebby/AI-Lab">Github</a></p>
<h2 id="è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹"><a href="#è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹" class="headerlink" title="è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹"></a>è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹</h2><blockquote>
<p>å‚è€ƒ<a href="https://github.com/Anubhav-Bhargava/Logo-Classifier/blob/master/logo_clf_sliding_window.ipynb">Githubå®ç°</a>ä¸€ä¸ªç‰©å“æ£€æµ‹åŸå‹ï¼šè®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»åˆ†ç±»å™¨</p>
</blockquote>
<ol>
<li>åœ¨æ•°æ®å‡†å¤‡é˜¶æ®µä¸ä¸Šè¿°è¿‡ç¨‹å”¯ä¸€ä¸åŒæ˜¯labelçš„è®¾ç½®ï¼Œå¦‚ä¸‹ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os, cv2</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">data = []</span><br><span class="line">labels = []</span><br><span class="line">HEIGHT = <span class="number">64</span></span><br><span class="line">WIDTH = <span class="number">64</span></span><br><span class="line"><span class="keyword">for</span> img <span class="keyword">in</span> os.listdir(<span class="string">"./flickr_logos_27_dataset/cropped/"</span>):</span><br><span class="line">    img_file = cv2.imread(os.path.join(<span class="string">"./flickr_logos_27_dataset/cropped/"</span>,img))</span><br><span class="line">    data.append(img_file)</span><br><span class="line">    label = img.split(<span class="string">"_"</span>)[<span class="number">1</span>].split(<span class="string">"."</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">if</span> label != <span class="string">"Pepsi"</span>:</span><br><span class="line">        label = <span class="string">"Nop"</span></span><br><span class="line">    labels.append(label)</span><br><span class="line">data = np.stack(data)</span><br><span class="line">labels = np.stack(labels)</span><br></pre></td></tr></table></figure>
<ol>
<li><p>ç”±äºæ˜¯äºŒåˆ†ç±»é—®é¢˜ï¼Œæ‰€ä»¥åªéœ€è¦æœ€åä¸€å±‚ä½¿ç”¨sigmoidå‡½æ•°æ„å»ºåˆ†ç±»å™¨å³å¯ï¼Œlabelçš„åºåˆ—è¯æ–¹é¢ä½¿ç”¨LabelEncoderè½¬æ¢ä¸º0æˆ–è€…1å³å¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line">lb = LabelEncoder()</span><br><span class="line">y = lb.fit_transform(labels)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ•°æ®å¢å¼ºä¸å‰æ–‡ç±»ä¼¼ï¼Œä¸å†èµ˜è¨€ã€‚åœ¨ç½‘ç»œç»“æ„ä¸Šï¼Œåªéœ€è¦ä¿®æ”¹æœ€åä¸ºsigmoidå‡½æ•°è¾“å‡ºï¼Œä¼˜åŒ–ç›®æ ‡ä½¿ç”¨<code>binary_crossentropy</code>ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">model.add(Activation(<span class="string">"sigmoid"</span>))</span><br><span class="line">...</span><br><span class="line">model.compile(loss=<span class="string">"binary_crossentropy"</span>, optimizer=opt,</span><br><span class="line">	metrics=[<span class="string">"accuracy"</span>])</span><br></pre></td></tr></table></figure>
<p>ç”±äºåªæœ‰ä¸¤ä¸ªåˆ†ç±»ï¼Œæ‰€ä»¥æ¨¡å‹å¾ˆå®¹æ˜“æ”¶æ•›ï¼Œæœ€åå‡†ç¡®ç‡ä¹Ÿæ¥è¿‘100%ã€‚</p>
</li>
<li><p>æœ€ååˆ©ç”¨ä¸€ä¸ªæ»‘åŠ¨çª—å£ä¸åœçš„æ‰«æå›¾åƒå¹¶åˆ©ç”¨cv2å±•ç¤ºç»“æœå³å¯ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (x, y, window) <span class="keyword">in</span> sliding_window(img, stepSize=<span class="number">32</span>, windowSize=(winW, winH)):</span><br><span class="line">    <span class="comment"># if the window does not meet our desired window size, ignore it</span></span><br><span class="line">    <span class="keyword">if</span> window.shape[<span class="number">0</span>] != winH <span class="keyword">or</span> window.shape[<span class="number">1</span>] != winW:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">   </span><br><span class="line">    crop_img=crop_image(sample_path,x, y, x + winW, y + winH)</span><br><span class="line">    crop_img=imresize(crop_img,(<span class="number">64</span>,<span class="number">64</span>))</span><br><span class="line">    crop_img = crop_img/<span class="number">255</span></span><br><span class="line">    prediction=model.predict(crop_img.reshape(<span class="number">1</span>,<span class="number">64</span>,<span class="number">64</span>,<span class="number">3</span>))</span><br><span class="line">    <span class="keyword">if</span> prediction == <span class="number">1</span>:</span><br><span class="line">        pred = <span class="string">'Pepsi'</span>    </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">    	pred=<span class="string">' '</span></span><br><span class="line">   	</span><br><span class="line">    clone = img.copy()</span><br><span class="line">    cv2.putText(clone, pred, (<span class="number">10</span>, <span class="number">30</span>),cv2.FONT_HERSHEY_SIMPLEX, <span class="number">0.7</span>, (<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>), <span class="number">2</span>)</span><br><span class="line">    cv2.rectangle(clone, (x, y), (x + winW, y + winH), (<span class="number">0</span>, <span class="number">255</span>, <span class="number">0</span>), <span class="number">2</span>)</span><br><span class="line">    clone = cv2.cvtColor(clone,cv2.COLOR_BGR2RGB)</span><br><span class="line">    cv2.imshow(<span class="string">"Window"</span>, clone)</span><br><span class="line">    </span><br><span class="line">    cv2.waitKey(<span class="number">1</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ol>
<h2 id="Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ"><a href="#Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ" class="headerlink" title="Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ"></a>Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ</h2><p><a href="https://blog.deepsense.ai/logo-detection-and-brand-visibility-analytics/">DeepSense.ai</a>ç»™å‡ºäº†ä¸€ç§Logoæ£€æµ‹çš„åˆ†ææ–¹æ³•ï¼Œé€šè¿‡åˆ†æè§†é¢‘ä¸­ä¸åŒå“ç‰Œçš„logoå‘ˆç°ï¼Œç»Ÿè®¡äº†ä¸åŒå“ç‰Œåœ¨åŒä¸€ä¸ªè§†é¢‘ä¸­Logoå‡ºç°çš„æ—¶é—´ã€å‡ºç°çš„æ–¹å¼ã€å‘ˆç°çš„æ•ˆæœç­‰ï¼Œæœ€ç»ˆæä¾›ç»™å®¢æˆ·ä¸€ä¸ª<strong>Logo Visubility Report</strong>ã€‚</p>
<p>æ–¹æ¡ˆçš„ä¸»è¦æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/logo_detection_overview.jpg" alt="logo_detection_overview"></p>
<p>ç”Ÿæˆçš„åˆ†ææŠ¥å‘Šå‚è§ä¸‹å›¾ï¼š</p>
<p><img src="/qnsource/images/2018-04-09-Deep-Learning-Lab-Logo-Detection/logo_detection_report.png" alt="logo_detection_report"></p>
<p>é’ˆå¯¹çš„åˆ†æè§†é¢‘å¦‚ä¸‹ï¼š</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/ekaHlWga5yA" frameborder="0" allowfullscreen></iframe></div>
<hr>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol>
<li><a href="http://image.ntua.gr/iva/datasets/flickr_logos/">Flickr Logos 27 dataset</a></li>
<li><a href="http://www.multimedia-computing.de/flickrlogos/#flickrlogos47">Datasets: FlickrLogos-32 / FlickrLogos-47</a></li>
<li>â€‹</li>
</ol>

        </div>
        
        <hr style="height:1px;margin:1rem 0"/>
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <i class="fas fa-tags has-text-grey"></i>&nbsp;
                    <a class="has-link-grey -link" href="/tags/AI/">AI</a>,&nbsp;<a class="has-link-grey -link" href="/tags/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>,&nbsp;<a class="has-link-grey -link" href="/tags/å¼€æ”¾æ•°æ®é›†/">å¼€æ”¾æ•°æ®é›†</a>,&nbsp;<a class="has-link-grey -link" href="/tags/æœºå™¨è§†è§‰/">æœºå™¨è§†è§‰</a>,&nbsp;<a class="has-link-grey -link" href="/tags/ç‰©ä½“è¯†åˆ«/">ç‰©ä½“è¯†åˆ«</a>,&nbsp;<a class="has-link-grey -link" href="/tags/ç®—æ³•/">ç®—æ³•</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5e762f775039a80012d346d9&amp;product=inline-share-buttons&amp;cms=sop' async='async'></script>

        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>æ”¯ä»˜å®</span>
    <div class="qrcode"><img src="/images/site/alipay.jpg" alt="æ”¯ä»˜å®"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>å¾®ä¿¡</span>
    <div class="qrcode"><img src="/images/site/weixin.png" alt="å¾®ä¿¡"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2018/04/11/Vechicle-identification-by-stanford-car-dataset/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">åˆ©ç”¨è¿ç§»å­¦ä¹ å®ç°è½¦è¾†è¯†åˆ«</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/04/01/æ·±åº¦å­¦ä¹ åŸºç¡€ä¹‹ä¼˜åŒ–ç®—æ³•/">
                <span class="level-item">æ·±åº¦å­¦ä¹ åŸºç¡€ä¹‹ä¼˜åŒ–ç®—æ³•</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">è¯„è®º</h3>
        
<div id="valine-thread" class="content"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: false,
        verify: false,
        app_id: 'JQMgg0zbFBNWwL0lLnq2s1G7-gzGzoHsz',
        app_key: 'm5FMVedFNxGutQCnMsVMAaXM',
        placeholder: 'Say Something ...'
    });
</script>

    </div>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-3 column-right is-sticky">
    
        

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    ç›®å½•
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#æ¦‚è¿°">
        <span class="has-mr-6">1</span>
        <span>æ¦‚è¿°</span>
        </a></li><li>
        <a class="is-flex" href="#æ•°æ®é›†">
        <span class="has-mr-6">2</span>
        <span>æ•°æ®é›†</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#å°ç»“">
        <span class="has-mr-6">2.1</span>
        <span>å°ç»“</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#æ•°æ®å‡†å¤‡">
        <span class="has-mr-6">3</span>
        <span>æ•°æ®å‡†å¤‡</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#æ•°æ®é›†åˆ‡åˆ†">
        <span class="has-mr-6">3.1</span>
        <span>æ•°æ®é›†åˆ‡åˆ†</span>
        </a></li><li>
        <a class="is-flex" href="#æ•°æ®å¢å¼º">
        <span class="has-mr-6">3.2</span>
        <span>æ•°æ®å¢å¼º</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#æ¨¡å‹å®šä¹‰">
        <span class="has-mr-6">4</span>
        <span>æ¨¡å‹å®šä¹‰</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹">
        <span class="has-mr-6">4.1</span>
        <span>ä»å¤´è®­ç»ƒä¸€ä¸ªç½‘ç»œæ¨¡å‹</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#æµ‹è¯•">
        <span class="has-mr-6">4.1.1</span>
        <span>æµ‹è¯•</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”">
        <span class="has-mr-6">4.2</span>
        <span>è®¾è®¡æ»‘åŠ¨çª—å£å’Œç‰¹å¾é‡‘å­—å¡”</span>
        </a></li><li>
        <a class="is-flex" href="#åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹">
        <span class="has-mr-6">4.3</span>
        <span>åˆ©ç”¨è¿ç§»å­¦ä¹ ä¼˜åŒ–ä¸€ä¸ªç‰©ä½“è¯†åˆ«ç½‘ç»œæ¨¡å‹</span>
        </a></li></ul></li><li>
        <a class="is-flex" href="#è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹">
        <span class="has-mr-6">5</span>
        <span>è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»ç½‘ç»œæ£€æŸ¥è´§æ¶ä¸Šæ˜¯å¦æœ‰ç™¾äº‹å¯ä¹</span>
        </a></li><li>
        <a class="is-flex" href="#Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ">
        <span class="has-mr-6">6</span>
        <span>Logoæ£€æµ‹çš„åº”ç”¨åŠåˆ†æ</span>
        </a></li><li>
        <a class="is-flex" href="#å‚è€ƒ">
        <span class="has-mr-6">7</span>
        <span>å‚è€ƒ</span>
        </a></li></ul>
            </div>
        </div>
    </div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2020/05/04/è¯»ä¹¦ç¬”è®°-ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/blog/qxp.jpg" alt="è¯»ä¹¦ç¬”è®°-ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-05-04T13:50:21.000Z">2020-05-04</time></div>
                    <a href="/2020/05/04/è¯»ä¹¦ç¬”è®°-ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹/" class="title has-link-black-ter is-size-6 has-text-weight-normal">è¯»ä¹¦ç¬”è®°-ã€Šç¥ç»ç½‘ç»œä¸æ·±åº¦å­¦ä¹ ã€‹</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/04/19/è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹ç ”ç©¶æœ­è®°/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/02.jpg" alt="è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹ç ”ç©¶æœ­è®°">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-19T07:10:45.000Z">2020-04-19</time></div>
                    <a href="/2020/04/19/è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹ç ”ç©¶æœ­è®°/" class="title has-link-black-ter is-size-6 has-text-weight-normal">è®¡ç®—æœºè§†è§‰ç›®æ ‡æ£€æµ‹ç ”ç©¶æœ­è®°</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/30/ç›®æ ‡æ£€æµ‹ä¸­çš„Anchorä¸æ„Ÿå—é‡/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/blog/anchor.jpg" alt="ç›®æ ‡æ£€æµ‹ä¸­çš„Anchorä¸æ„Ÿå—é‡">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-30T13:14:50.000Z">2020-03-30</time></div>
                    <a href="/2020/03/30/ç›®æ ‡æ£€æµ‹ä¸­çš„Anchorä¸æ„Ÿå—é‡/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ç›®æ ‡æ£€æµ‹ä¸­çš„Anchorä¸æ„Ÿå—é‡</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/22/2019å¹´æ€»ç»“ï¼šæ¥è‡ª19å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/08.jpg" alt="2019å¹´æ€»ç»“ï¼šæ¥è‡ª19å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-22T07:31:47.000Z">2020-03-22</time></div>
                    <a href="/2020/03/22/2019å¹´æ€»ç»“ï¼šæ¥è‡ª19å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2019å¹´æ€»ç»“ï¼šæ¥è‡ª19å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œæ€»ç»“/">å·¥ä½œæ€»ç»“</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2020/03/21/å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/blog/cvat.jpg" alt="å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-21T13:23:49.000Z">2020-03-21</time></div>
                    <a href="/2020/03/21/å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT/" class="title has-link-black-ter is-size-6 has-text-weight-normal">å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo02.png" alt="åŸºäºæœºå™¨è§†è§‰æŠ€æœ¯çš„å“ç‰ŒLOGOæ£€æµ‹" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Ebby DD&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>  æ²ªICPå¤‡20005404å·
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://blog.a-stack.com',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>