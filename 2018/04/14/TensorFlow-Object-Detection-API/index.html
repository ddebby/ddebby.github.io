<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ä½¿ç”¨tensorflow object detection apiè¯†åˆ«ä»ªè¡¨è¡¨ç›˜ | Ebby&#39;s Notes</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="äººå·¥æ™ºèƒ½,æ·±åº¦å­¦ä¹ ,æŠ€æœ¯,ç®—æ³•" />
  
  
  
  
  <meta name="description" content="å‰é¢ç”¨åˆ°äº†Tensorflowçš„ç‰©ä½“è¯†åˆ«APIåšäº†ä¸€ä¸ªæ£€æµ‹ä»ªè¡¨è¡¨ç›˜çš„å®è·µï¼Œè®°å½•å®è·µè¿‡ç¨‹ä¸­çš„æŠ€å·§ã€‚ 1. æ¦‚è¿°æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Tensorflow ç‰©ä½“è¯†åˆ«APIåº”ç”¨è‡ªå·±ä¸šåŠ¡åœºæ™¯è¿›è¡Œç‰©ä½“è¯†åˆ«ã€‚å°†ç»“åˆä»äº‹çš„ä¸€äº›å®é™…ç»éªŒï¼Œåˆ†äº«ä¸€ä¸ªä»ªè¡¨è¡¨ç›˜è¯†åˆ«çš„æ¡ˆä¾‹ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è‡ªåŠ¨è¯†åˆ«ä»ªè¡¨è¡¨è¯»æ•°çš„é¡¹ç›®ä¸­ï¼Œéœ€è¦é¦–å…ˆè¯†åˆ«å„ç§ä¸åŒç±»å‹è¡¨ç›˜çš„æ˜¾ç¤ºå±ä½ç½®ã€‚æœ¬æ¡ˆä¾‹åˆ†æå°†é’ˆå¯¹é¢æ¿è¯†åˆ«ä¸­é‡‡ç”¨çš„å…³é”®æŠ€æœ¯è¿›è¡Œåˆ†æï¼Œè¯¦ç»†é˜">
<meta name="keywords" content="äººå·¥æ™ºèƒ½,æ·±åº¦å­¦ä¹ ,æŠ€æœ¯,ç®—æ³•">
<meta property="og:type" content="article">
<meta property="og:title" content="ä½¿ç”¨TensorFlow Object Detection APIè¯†åˆ«ä»ªè¡¨è¡¨ç›˜">
<meta property="og:url" content="http://blog.a-stack.com/2018/04/14/TensorFlow-Object-Detection-API/index.html">
<meta property="og:site_name" content="Ebby&#39;s Notes">
<meta property="og:description" content="å‰é¢ç”¨åˆ°äº†Tensorflowçš„ç‰©ä½“è¯†åˆ«APIåšäº†ä¸€ä¸ªæ£€æµ‹ä»ªè¡¨è¡¨ç›˜çš„å®è·µï¼Œè®°å½•å®è·µè¿‡ç¨‹ä¸­çš„æŠ€å·§ã€‚ 1. æ¦‚è¿°æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Tensorflow ç‰©ä½“è¯†åˆ«APIåº”ç”¨è‡ªå·±ä¸šåŠ¡åœºæ™¯è¿›è¡Œç‰©ä½“è¯†åˆ«ã€‚å°†ç»“åˆä»äº‹çš„ä¸€äº›å®é™…ç»éªŒï¼Œåˆ†äº«ä¸€ä¸ªä»ªè¡¨è¡¨ç›˜è¯†åˆ«çš„æ¡ˆä¾‹ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è‡ªåŠ¨è¯†åˆ«ä»ªè¡¨è¡¨è¯»æ•°çš„é¡¹ç›®ä¸­ï¼Œéœ€è¦é¦–å…ˆè¯†åˆ«å„ç§ä¸åŒç±»å‹è¡¨ç›˜çš„æ˜¾ç¤ºå±ä½ç½®ã€‚æœ¬æ¡ˆä¾‹åˆ†æå°†é’ˆå¯¹é¢æ¿è¯†åˆ«ä¸­é‡‡ç”¨çš„å…³é”®æŠ€æœ¯è¿›è¡Œåˆ†æï¼Œè¯¦ç»†é˜">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/ocr-demo.PNG">
<meta property="og:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/labelImage.jpg">
<meta property="og:image" content="https://camo.githubusercontent.com/c77ea08c2a142680f237371c1a1e5743b877842c/687474703a2f2f6368726973746f70686572353130362e6769746875622e696f2f696d672f616e6e6f7461746f725f65726173652e706e67">
<meta property="og:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/tensorboard_loss.PNG">
<meta property="og:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/AP_MAP.PNG">
<meta property="og:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/detect_demo.png">
<meta property="og:updated_time" content="2018-05-23T12:42:43.515Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ä½¿ç”¨TensorFlow Object Detection APIè¯†åˆ«ä»ªè¡¨è¡¨ç›˜">
<meta name="twitter:description" content="å‰é¢ç”¨åˆ°äº†Tensorflowçš„ç‰©ä½“è¯†åˆ«APIåšäº†ä¸€ä¸ªæ£€æµ‹ä»ªè¡¨è¡¨ç›˜çš„å®è·µï¼Œè®°å½•å®è·µè¿‡ç¨‹ä¸­çš„æŠ€å·§ã€‚ 1. æ¦‚è¿°æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Tensorflow ç‰©ä½“è¯†åˆ«APIåº”ç”¨è‡ªå·±ä¸šåŠ¡åœºæ™¯è¿›è¡Œç‰©ä½“è¯†åˆ«ã€‚å°†ç»“åˆä»äº‹çš„ä¸€äº›å®é™…ç»éªŒï¼Œåˆ†äº«ä¸€ä¸ªä»ªè¡¨è¡¨ç›˜è¯†åˆ«çš„æ¡ˆä¾‹ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è‡ªåŠ¨è¯†åˆ«ä»ªè¡¨è¡¨è¯»æ•°çš„é¡¹ç›®ä¸­ï¼Œéœ€è¦é¦–å…ˆè¯†åˆ«å„ç§ä¸åŒç±»å‹è¡¨ç›˜çš„æ˜¾ç¤ºå±ä½ç½®ã€‚æœ¬æ¡ˆä¾‹åˆ†æå°†é’ˆå¯¹é¢æ¿è¯†åˆ«ä¸­é‡‡ç”¨çš„å…³é”®æŠ€æœ¯è¿›è¡Œåˆ†æï¼Œè¯¦ç»†é˜">
<meta name="twitter:image" content="http://blog.a-stack.com/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/ocr-demo.PNG">
  
    <link rel="alternate" href="/atom.xml" title="Ebby&#39;s Notes" type="application/atom+xml">
  

  

  <link rel="icon" href="/css/images/logo.png">
  <link rel="apple-touch-icon" href="/css/images/logo.png">
  
    <link href="/qnsource/css/Source+Code+Pro.css" rel="stylesheet" type="text/css">
  
  <link href="/qnsource/css/Open+Sans-Montserrat-700.css" rel="stylesheet" type="text/css">
  <link href="/qnsource/css/Roboto-400-300.css" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">

  <script src="/js/jquery-3.1.1.min.js"></script>
  <script src="/js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="/css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css" >
  

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 border-width: 0px;  margin-top: 0px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="200px" height="100px" alt="Hike News" src="/css/images/logo.png">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="/">é¦–é¡µ</a> </li>
                
                  <li> <a class="main-nav-link" href="/archives">å½’æ¡£</a> </li>
                
                  <li> <a class="main-nav-link" href="/categories">åˆ†ç±»</a> </li>
                
                  <li> <a class="main-nav-link" href="/tags">æ ‡ç­¾</a> </li>
                
                  <li> <a class="main-nav-link" href="/about">å…³äº</a> </li>
                
                  <li> <a class="main-nav-link" href="/reading">è¯»ä¹¦</a> </li>
                
                  <li> <a class="main-nav-link" href="/resources">èµ„æº</a> </li>
                
                  <li> <a class="main-nav-link" href="/notebooks">ğŸ“</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æ— æ ‡é¢˜)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-TensorFlow-Object-Detection-API" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      ä½¿ç”¨TensorFlow Object Detection APIè¯†åˆ«ä»ªè¡¨è¡¨ç›˜
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="/2018/04/14/TensorFlow-Object-Detection-API/" class="article-date">
	  <time datetime="2018-04-14T13:16:41.000Z" itemprop="datePublished">2018-04-14</time>
	</a>

      
    <a class="article-category-link" href="/categories/åŠ¨æ‰‹å®è·µè¥/">åŠ¨æ‰‹å®è·µè¥</a><a class="article-category-link" href="/categories/åŠ¨æ‰‹å®è·µè¥/æœºå™¨è§†è§‰/">æœºå™¨è§†è§‰</a>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <p>å‰é¢ç”¨åˆ°äº†Tensorflowçš„ç‰©ä½“è¯†åˆ«APIåšäº†ä¸€ä¸ªæ£€æµ‹ä»ªè¡¨è¡¨ç›˜çš„å®è·µï¼Œè®°å½•å®è·µè¿‡ç¨‹ä¸­çš„æŠ€å·§ã€‚<br><!-- excerpt --></p>
<h2 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1. æ¦‚è¿°"></a>1. æ¦‚è¿°</h2><p>æœ¬æ–‡ä¸»è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨Tensorflow ç‰©ä½“è¯†åˆ«APIåº”ç”¨è‡ªå·±ä¸šåŠ¡åœºæ™¯è¿›è¡Œç‰©ä½“è¯†åˆ«ã€‚å°†ç»“åˆä»äº‹çš„ä¸€äº›å®é™…ç»éªŒï¼Œåˆ†äº«ä¸€ä¸ªä»ªè¡¨è¡¨ç›˜è¯†åˆ«çš„æ¡ˆä¾‹ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªåˆ©ç”¨æœºå™¨è§†è§‰æŠ€æœ¯è‡ªåŠ¨è¯†åˆ«ä»ªè¡¨è¡¨è¯»æ•°çš„é¡¹ç›®ä¸­ï¼Œéœ€è¦é¦–å…ˆè¯†åˆ«å„ç§ä¸åŒç±»å‹è¡¨ç›˜çš„æ˜¾ç¤ºå±ä½ç½®ã€‚æœ¬æ¡ˆä¾‹åˆ†æå°†é’ˆå¯¹é¢æ¿è¯†åˆ«ä¸­é‡‡ç”¨çš„å…³é”®æŠ€æœ¯è¿›è¡Œåˆ†æï¼Œè¯¦ç»†é˜è¿°å¦‚ä½•åˆ©ç”¨ç‰©ä½“è¯†åˆ«æŠ€æœ¯å’Œå·²è®­ç»ƒå¥½çš„æ¨¡å‹å¿«é€Ÿå®ç°ä½¿ç”¨ç”¨æˆ·æ•°æ®è®¾è®¡ä¸€ä¸ªé¢å‘ç‰¹å®šç‰©ä½“è¯†åˆ«çš„æ·±åº¦ç¥ç»ç½‘ç»œã€‚</p>
<p><strong>ç›®æ ‡ï¼š</strong> ä»ç»™å®šçš„æ°´è¡¨å›¾ç‰‡ä¸­å°†å…³é”®çš„æ•°å­—é¢æ¿ç»™æ‰£å–å‡ºæ¥ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœé‡‡ç”¨é€šç”¨OCRæŠ€æœ¯å¯¹æ°´è¡¨å›¾ç‰‡é¢æ¿è¿›è¡Œæ£€æµ‹ï¼Œå°†åŒæ—¶æå–å¾ˆå¤šç‰¹å¾é¡¹ï¼Œå¯¹å®é™…çš„æ£€æµ‹å€¼é€ æˆæ¯”è¾ƒå¤§çš„å¹²æ‰°ã€‚</p>
<p><img src="/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/ocr-demo.PNG" alt="ocr-demo"></p>
<h3 id="1-1-æ¨¡å‹åŠç®—æ³•é€‰å‹"><a href="#1-1-æ¨¡å‹åŠç®—æ³•é€‰å‹" class="headerlink" title="1.1 æ¨¡å‹åŠç®—æ³•é€‰å‹"></a>1.1 æ¨¡å‹åŠç®—æ³•é€‰å‹</h3><p>åœ¨æ–¹æ¡ˆè®¾è®¡åˆæœŸæˆ‘ä»¬åˆ†åˆ«ä½¿ç”¨å…¬æœ‰äº‘æœåŠ¡ã€ç°æœ‰çš„æˆç†ŸOCRè½¯ä»¶ã€å¼€æºçš„OCRæ–¹æ¡ˆå¯¹ç›®æ ‡å¯¹è±¡è¿›è¡Œäº†åˆæ­¥è¯†åˆ«åŠåˆ†æã€‚é€šè¿‡å®æµ‹ï¼Œç°æœ‰æ–¹æ¡ˆæ— æ³•æ»¡è¶³æˆ‘ä»¬çš„ä»»åŠ¡éœ€æ±‚ã€‚ä¸ºæ­¤å¸Œæœ›èƒ½å¤Ÿåˆ©ç”¨æ·±åº¦å­¦ä¹ åœ¨ç‰©ä½“è¯†åˆ«é¢†åŸŸçš„æˆç†Ÿæ–¹æ¡ˆï¼Œæ„å»ºä¸€ä¸ªé¢å‘æ°´è¡¨å›¾ç‰‡é¢æ¿è¯†åˆ«çš„ç¥ç»ç½‘ç»œæ¨¡å‹ã€‚</p>
<ul>
<li><p><strong>è®¡ç®—æ¡†æ¶ï¼š</strong> Tensorflow (v1.4)</p>
</li>
<li><p><strong>ä½¿ç”¨æ¥å£ï¼š</strong> <a href="https://github.com/tensorflow/models/tree/master/research/object_detection" target="_blank" rel="noopener">Tensorflow Object Detection API</a><sup><a href="#fn_1" id="reffn_1">1</a></sup></p>
</li>
<li><p><strong>ç®—æ³•æ¨¡å‹ï¼š</strong> æ ¹æ®é¢„è®­ç»ƒé‡‡ç”¨çš„æ•°æ®é›†ä¸åŒï¼Œå¯ç”¨çš„æ¨¡å‹åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<ul>
<li><a href="http://mscoco.org/" target="_blank" rel="noopener">COCO dataset</a></li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Model name</th>
<th>Speed (ms)</th>
<th>COCO mAP<sup><a href="#fn_2" id="reffn_2">2</a></sup></th>
<th>Outputs</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/ssd_mobilenet_v1_coco_2017_11_17.tar.gz" target="_blank" rel="noopener">ssd_mobilenet_v1_coco</a></td>
<td>30</td>
<td>21</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/ssd_inception_v2_coco_2017_11_17.tar.gz" target="_blank" rel="noopener">ssd_inception_v2_coco</a></td>
<td>42</td>
<td>24</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_inception_v2_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_inception_v2_coco</a></td>
<td>58</td>
<td>28</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet50_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_resnet50_coco</a></td>
<td>89</td>
<td>30</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet50_lowproposals_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_resnet50_lowproposals_coco</a></td>
<td>64</td>
<td></td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/rfcn_resnet101_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">rfcn_resnet101_coco</a></td>
<td>92</td>
<td>30</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet101_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_resnet101_coco</a></td>
<td>106</td>
<td>32</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet101_lowproposals_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_resnet101_lowproposals_coco</a></td>
<td>82</td>
<td></td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_inception_resnet_v2_atrous_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_inception_resnet_v2_atrous_coco</a></td>
<td>620</td>
<td>37</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_inception_resnet_v2_atrous_lowproposals_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_inception_resnet_v2_atrous_lowproposals_coco</a></td>
<td>241</td>
<td></td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_nas_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_nas</a></td>
<td>1833</td>
<td>43</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_nas_lowproposals_coco_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_nas_lowproposals_coco</a></td>
<td>540</td>
<td></td>
<td>Boxes</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><a href="http://www.cvlibs.net/datasets/kitti/" target="_blank" rel="noopener">Kitti dataset</a></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Model name</th>
<th>Speed (ms)</th>
<th>Pascal mAP@0.5 (ms)</th>
<th>Outputs</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_resnet101_kitti_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_resnet101_kitti</a></td>
<td>79</td>
<td>87</td>
<td>Boxes</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><a href="https://github.com/openimages/dataset" target="_blank" rel="noopener">Open Images dataset</a></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Model name</th>
<th>Speed (ms)</th>
<th>Open Images mAP@0.5<sup><a href="#fn_2" id="reffn_2">2</a></sup></th>
<th>Outputs</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_inception_resnet_v2_atrous_oid_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_inception_resnet_v2_atrous_oid</a></td>
<td>727</td>
<td>37</td>
<td>Boxes</td>
</tr>
<tr>
<td><a href="http://download.tensorflow.org/models/object_detection/faster_rcnn_inception_resnet_v2_atrous_lowproposals_oid_2017_11_08.tar.gz" target="_blank" rel="noopener">faster_rcnn_inception_resnet_v2_atrous_lowproposals_oid</a></td>
<td>347</td>
<td></td>
<td>Boxes</td>
</tr>
</tbody>
</table>
</div>
<p>  å‡ ç§æ¨¡å‹ä¸»è¦åœ¨ç²¾åº¦å’Œé€Ÿåº¦æ–¹é¢è¿›è¡Œäº†å–èˆï¼Œå¦‚æœéœ€è¦ä¸€ä¸ªé«˜ç²¾åº¦çš„æ¨¡å‹å¯ä»¥é€‰æ‹©faster R-CNNï¼Œå¦‚æœå¸Œæœ›é€Ÿåº¦å¿«æ¯”å¦‚å®æ—¶æ£€æµ‹ï¼Œåˆ™å¯ä»¥é€‰æ‹©SSDæ¨¡å‹ã€‚é‰´äºæœ¬æ–¹æ¡ˆä¸­è®¾è®¡æ£€æµ‹ç›®æ ‡ç‰¹å¾å°†ä¸ºç®€å•ï¼Œå¯é‡‡ç”¨æœ€è½»é‡çº§çš„MobileSSDè¿›è¡Œä¼˜åŒ–ã€‚</p>
<h2 id="2-å®ç°æµç¨‹"><a href="#2-å®ç°æµç¨‹" class="headerlink" title="2. å®ç°æµç¨‹"></a>2. å®ç°æµç¨‹</h2><h3 id="2-1-æ•°æ®å‡†å¤‡"><a href="#2-1-æ•°æ®å‡†å¤‡" class="headerlink" title="2.1 æ•°æ®å‡†å¤‡"></a>2.1 æ•°æ®å‡†å¤‡</h3><p>æ•°æ®å‡†å¤‡çš„ç¯èŠ‚æ˜¯é™¤äº†è®­ç»ƒè¿‡ç¨‹ä¹‹å¤–æœ€ä¸ºè€—æ—¶çš„ç¯èŠ‚ï¼Œå‡†å¤‡æ•°æ®çš„è´¨é‡å’Œæ•°é‡å°†ç›´æ¥å†³å®šäº†è®­ç»ƒæ¨¡å‹çš„å¥½åã€‚å›¾ç‰‡æ•°æ®æœ€å¥½åœ¨å…‰çº¿ã€è§’åº¦ã€æ¸…æ™°åº¦ç­‰æ–¹é¢èƒ½æœ€å¤§åŒ–çš„æ³›åŒ–å®é™…çš„ä¸šåŠ¡åœºæ™¯ã€‚ç”±äºåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­æˆ‘ä»¬åªéœ€è¦è¾“å‡ºä¸€ä¸ªåˆ†ç±»å¯¹è±¡ï¼Œè€Œä¸”è¾“å…¥å¯¹è±¡è¢«é™å®šåœ¨æ°´è¡¨å›¾ç‰‡ä¸Šï¼Œæ‰€ä»¥æ•´ä½“æ¶‰åŠéœ€è¦æå–çš„ç‰¹å¾å‚æ•°ç©ºé—´ä¸æ˜¯å¾ˆå¤§ï¼Œå°‘é‡ç»è¿‡å¤„ç†å¥½çš„æ˜æ˜¾å¯ä¾›è¾¨è¯†çš„æ°´è¡¨å›¾ç‰‡å³å¯ã€‚ç›®å‰å¯ç”¨æ°´è¡¨å›¾ç‰‡æ”»å‡»229å¼ ï¼Œæˆ‘ä»¬é‡‡ç”¨80%ç”¨äºè®­ç»ƒï¼Œ20%ç”¨äºæµ‹è¯•çš„æ–¹å¼è¿›è¡Œåˆ’åˆ†ã€‚</p>
<blockquote>
<p>å¦‚æœåˆ†ç±»è¾ƒå¤šï¼Œæ•°æ®æœ‰é™ï¼Œå¯ä»¥é€‰æ‹©ä»äº’è”ç½‘ä¸Šä¸‹è½½æˆ–è€…åœ¨å¼€æºæ•°æ®é›†ä¸­è·å¾—æ‰€éœ€çš„æ•°æ®ã€‚</p>
<p>å¦å¤–éœ€è¦æ³¨æ„å›¾ç‰‡çš„å¤§å°ï¼Œå›¾ç‰‡å¤ªå¤§ä¸€æ–¹é¢å½±å“è®­ç»ƒè¿‡ç¨‹çš„å¤„ç†æ—¶é—´ï¼Œå¦å¤–å¤§é‡å›¾ç‰‡è½½å…¥å†…å­˜å°†å¾ˆå®¹å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œæ‰€ä»¥å¦‚æœå›¾åƒç‰¹å¾ç²’åº¦ä¸æ˜¯ç‰¹åˆ«ç²¾ç»†å¯ä»¥é‡‡ç”¨ä½åˆ†è¾¨ç‡å›¾ç‰‡è¿›è¡Œåˆ†æã€‚</p>
</blockquote>
<h4 id="æ•°æ®æ ‡è®°"><a href="#æ•°æ®æ ‡è®°" class="headerlink" title="æ•°æ®æ ‡è®°"></a>æ•°æ®æ ‡è®°</h4><p>å¯¹äºç‰©ä½“è¯†åˆ«è€Œè¨€ï¼Œæ•°æ®æ ‡è®°è¿‡ç¨‹æ˜¯ä¸€ä¸ªç›¸å¯¹å¤æ‚çš„è¿‡ç¨‹ï¼Œç›®å‰é™¤äº†äººå·¥æ ‡è®°æ²¡æœ‰å¤ªå¥½çš„è‡ªåŠ¨æˆ–åŠç›‘ç£æ‰‹æ®µï¼Œå¹¸å¥½é’ˆå¯¹å›¾ç‰‡çš„æ ‡è®°å·²ç»æœ‰äº†å‡ æ¬¾å¾ˆå¥½ç”¨çš„å·¥å…·ï¼š</p>
<ul>
<li><p><a href="https://github.com/tzutalin/labelImg" target="_blank" rel="noopener">LabelImg</a></p>
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç›´æ¥åœ¨å›¾ç‰‡ä¸Šåšæ³¨é‡Šæ¡†è‡ªåŠ¨ç”Ÿæˆæ ‡è®°ä¿¡æ¯çš„è½¯ä»¶ï¼Œæ³¨é‡Šä¿¡æ¯å°†è¢«ä¿å­˜ä¸ºPASCAL VOC æ ¼å¼çš„XMLæ–‡ä»¶ï¼ˆ<a href="http://www.image-net.org/" target="_blank" rel="noopener">ImageNet</a>çš„æ–‡ä»¶æ ¼å¼ï¼‰</li>
</ul>
<p><img src="/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/labelImage.jpg" alt="labelImage"></p>
</li>
<li><p><a href="https://github.com/christopher5106/FastAnnotationTool" target="_blank" rel="noopener">FIAT (Fast Image Data Annotation Tool)</a> </p>
<ul>
<li><p>è¯¥å·¥å…·ç”Ÿæˆcsvæ ¼å¼çš„æ³¨é‡Šæ–‡ä»¶</p>
<p><a href="https://camo.githubusercontent.com/c77ea08c2a142680f237371c1a1e5743b877842c/687474703a2f2f6368726973746f70686572353130362e6769746875622e696f2f696d672f616e6e6f7461746f725f65726173652e706e67" target="_blank" rel="noopener"><img src="https://camo.githubusercontent.com/c77ea08c2a142680f237371c1a1e5743b877842c/687474703a2f2f6368726973746f70686572353130362e6769746875622e696f2f696d672f616e6e6f7461746f725f65726173652e706e67" alt="data annotation"></a></p>
</li>
</ul>
</li>
<li><p><a href="http://imagemagick.org/#" target="_blank" rel="noopener">ImageMagick</a></p>
<ul>
<li>å›¾ç‰‡é¢„å¤„ç†å·¥å…·</li>
<li>Use ImageMagick<a href="http://tarr.uspto.gov/servlet/tarr?regser=serial&amp;entry=78333969" target="_blank" rel="noopener">Â®</a> to create, edit, compose, or convert bitmap images.  It can read and write images in a variety of <a href="http://imagemagick.org/script/formats.php" target="_blank" rel="noopener">formats</a> (over 200) including PNG, JPEG, GIF, HEIC, TIFF, <a href="http://imagemagick.org/script/motion-picture.php" target="_blank" rel="noopener">DPX</a>, <a href="http://imagemagick.org/script/high-dynamic-range.php" target="_blank" rel="noopener">EXR</a>, WebP, Postscript, PDF, and SVG.  Use ImageMagick to resize, flip, mirror, rotate, distort, shear and transform images, adjust image colors, apply various special effects, or draw text, lines, polygons, ellipses and BÃ©zier curves.</li>
</ul>
</li>
</ul>
<p>åœ¨æœ¬æ–¹æ¡ˆä¸­æˆ‘ä»¬ä½¿ç”¨å·¥å…·LabelImageå°†229å¼ æ°´è¡¨å›¾ç‰‡è¿›è¡Œäº†æ ‡æ³¨ï¼ŒåŒæ—¶ç”Ÿæˆäº†PASCALæ ¼å¼çš„XMLæ–‡ä»¶ï¼Œåå­—ä¸º<code>000001.jpg</code>çš„å›¾ç‰‡æ³¨é‡Šæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">annotation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">folder</span>&gt;</span>imgs<span class="tag">&lt;/<span class="name">folder</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filename</span>&gt;</span>000001.jpg<span class="tag">&lt;/<span class="name">filename</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">database</span>&gt;</span>VOC<span class="tag">&lt;/<span class="name">database</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">annotation</span>&gt;</span>PASCAL VOC<span class="tag">&lt;/<span class="name">annotation</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">size</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">width</span>&gt;</span>2448<span class="tag">&lt;/<span class="name">width</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">height</span>&gt;</span>3264<span class="tag">&lt;/<span class="name">height</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">depth</span>&gt;</span>3<span class="tag">&lt;/<span class="name">depth</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">segmented</span>&gt;</span>0<span class="tag">&lt;/<span class="name">segmented</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">object</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">name</span>&gt;</span>panel<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">pose</span>&gt;</span>Frontal<span class="tag">&lt;/<span class="name">pose</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">truncated</span>&gt;</span>0<span class="tag">&lt;/<span class="name">truncated</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">difficult</span>&gt;</span>0<span class="tag">&lt;/<span class="name">difficult</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">bndbox</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">xmin</span>&gt;</span>739<span class="tag">&lt;/<span class="name">xmin</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">ymin</span>&gt;</span>430<span class="tag">&lt;/<span class="name">ymin</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">xmax</span>&gt;</span>1475<span class="tag">&lt;/<span class="name">xmax</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">ymax</span>&gt;</span>796<span class="tag">&lt;/<span class="name">ymax</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">bndbox</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">object</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">annotation</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬åœ¨æ ¹ç›®å½•æ–°å»ºä¸€ä¸ª<code>annotations</code>çš„æ–‡ä»¶å¤¹å­˜å‚¨229å¼ å›¾ç‰‡çš„XMLæè¿°æ–‡ä»¶ï¼ŒåŒæ—¶æ ¹ç›®å½•<code>images</code>æ–‡ä»¶å¤¹ç”¨äºå­˜å‚¨æ‰€æœ‰çš„è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ã€‚</p>
<h4 id="æ•°æ®æè¿°æ ¼å¼"><a href="#æ•°æ®æè¿°æ ¼å¼" class="headerlink" title="æ•°æ®æè¿°æ ¼å¼"></a>æ•°æ®æè¿°æ ¼å¼</h4><ul>
<li>åœ¨TensorFlow ç‰©ä½“æ£€æµ‹APIä¸­ä½¿ç”¨ <a href="https://www.tensorflow.org/api_guides/python/python_io#tfrecords_format_details" target="_blank" rel="noopener">TFRecord file format</a>æ ¼å¼å¯¹å›¾åƒæ ‡è®°ä¿¡æ¯è¿›è¡Œæè¿°ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— è®ºé‡‡å–ä¸‹é¢çš„é‚£ç§æ ‡è®°æ–¹å¼ï¼Œæœ€ç»ˆéœ€è¦ç”ŸæˆTFRcordæ ¼å¼çš„æ–‡ä»¶æ ¼å¼ã€‚</li>
<li><strong>TFRecord</strong>æ ¼å¼è¦å»å¦‚ä¸‹ï¼š</li>
</ul>
<blockquote>
<p>For every example in your dataset, you should have the following information:</p>
<ol>
<li>An RGB image for the dataset encoded as jpeg or png.</li>
<li>A list of bounding boxes for the image. Each bounding box should contain:<ol>
<li>A bounding box coordinates (with origin in top left corner) defined by 4floating point numbers [ymin, xmin, ymax, xmax]. Note that we store the<em>normalized</em> coordinates (x / width, y / height) in the TFRecord dataset.</li>
<li>The class of the object in the bounding box.</li>
</ol>
</li>
</ol>
</blockquote>
<ul>
<li><p>TensorFlowé’ˆå¯¹ä¸»æµçš„ç‰©ä½“è¯†åˆ«ç±»æ•°æ®é›†æ ¼å¼æä¾›äº†<a href="https://github.com/tensorflow/models/tree/master/research/object_detection/dataset_tools" target="_blank" rel="noopener">è½¬æ¢å·¥å…·</a>ï¼ŒåŒ…æ‹¬ <a href="http://host.robots.ox.ac.uk/pascal/VOC/" target="_blank" rel="noopener">PASCAL VOC dataset</a> ï¼Œ <a href="http://www.robots.ox.ac.uk/~vgg/data/pets/" target="_blank" rel="noopener">Oxford Pet dataset</a>ç­‰ï¼›</p>
<ul>
<li>PASCAL VOC </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line">wget http://host.robots.ox.ac.uk/pascal/VOC/voc2012/VOCtrainval_11-May-2012.tar</span><br><span class="line">tar -xvf VOCtrainval_11-May-2012.tar</span><br><span class="line">python object_detection/dataset_tools/create_pascal_tf_record.py \</span><br><span class="line">    --label_map_path=object_detection/data/pascal_label_map.pbtxt \</span><br><span class="line">    --data_dir=VOCdevkit --year=VOC2012 --<span class="built_in">set</span>=train \</span><br><span class="line">    --output_path=pascal_train.record</span><br><span class="line">python object_detection/dataset_tools/create_pascal_tf_record.py \</span><br><span class="line">    --label_map_path=object_detection/data/pascal_label_map.pbtxt \</span><br><span class="line">    --data_dir=VOCdevkit --year=VOC2012 --<span class="built_in">set</span>=val \</span><br><span class="line">    --output_path=pascal_val.record</span><br></pre></td></tr></table></figure>
<ul>
<li>Oxford-IIIT Pet</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line">wget http://www.robots.ox.ac.uk/~vgg/data/pets/data/images.tar.gz</span><br><span class="line">wget http://www.robots.ox.ac.uk/~vgg/data/pets/data/annotations.tar.gz</span><br><span class="line">tar -xvf annotations.tar.gz</span><br><span class="line">tar -xvf images.tar.gz</span><br><span class="line">python object_detection/dataset_tools/create_pet_tf_record.py \</span><br><span class="line">    --label_map_path=object_detection/data/pet_label_map.pbtxt \</span><br><span class="line">    --data_dir=`<span class="built_in">pwd</span>` \</span><br><span class="line">    --output_dir=`<span class="built_in">pwd</span>`</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœä½ ä½¿ç”¨äº†è‡ªå·±çš„æ ¼å¼ï¼Œå¯ä»¥å‚è€ƒ<a href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/using_your_own_dataset.md" target="_blank" rel="noopener">TensorFlowå®˜æ–¹æ–‡æ¡£</a>å®Œæˆæ ¼å¼è½¬æ¢ï¼›</p>
</li>
</ul>
<p>åœ¨æœ¬æ–¹æ¡ˆä¸­æˆ‘ä»¬é‡‡ç”¨è‡ªå·±å¤„ç†çš„æ–¹å¼æ¥è¿›è¡Œæ ¼å¼è½¬æ¢ï¼Œä½¿ç”¨æ–‡ä»¶<a href="https://github.com/datitran/raccoon_dataset/blob/master/xml_to_csv.py" target="_blank" rel="noopener"><code>xml_to_csv.py</code></a>å°†æ‰€æœ‰å›¾ç‰‡çš„PASCALæ ¼å¼æ–‡ä»¶è½¬åŒ–ä¸ºä¸€ä¸ªcsvæ–‡ä»¶ï¼Œç„¶åè¿›ä¸€æ­¥çš„åˆ©ç”¨TensorFLowå·¥å…·<code>generate_tfrecord.py</code>ç”ŸæˆTFRecordæ ¼å¼æ–‡ä»¶ï¼š</p>
<ol>
<li><p>æ‰§è¡Œ<code>python xml_to_csv.py</code>,è¯¥æ–‡ä»¶å°†åœ¨æ ¹ç›®å½•çš„<code>annotations</code>çš„æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰çš„<code>*xml</code>æ–‡ä»¶ï¼Œå¹¶ç”Ÿæˆ<code>screen_labels.csv</code>æ–‡ä»¶ï¼›</p>
</li>
<li><p>ä½¿ç”¨å¦‚ä¸‹ä»£ç éšæœºç”Ÿæˆè®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">np.random.seed(<span class="number">1</span>)</span><br><span class="line">full_labels = pd.read_csv(<span class="string">'screen_labels.csv'</span>)</span><br><span class="line">gb = full_labels.groupby(<span class="string">'filename'</span>)</span><br><span class="line">grouped_list = [gb.get_group(x) <span class="keyword">for</span> x <span class="keyword">in</span> gb.groups]</span><br><span class="line">train_index = np.random.choice(len(grouped_list), size=<span class="number">180</span>, replace=<span class="keyword">False</span>)</span><br><span class="line">test_index = np.setdiff1d(list(range(<span class="number">229</span>)), train_index)</span><br><span class="line">train = pd.concat([grouped_list[i] <span class="keyword">for</span> i <span class="keyword">in</span> train_index])</span><br><span class="line">test = pd.concat([grouped_list[i] <span class="keyword">for</span> i <span class="keyword">in</span> test_index])</span><br><span class="line">train.to_csv(<span class="string">'train_labels.csv'</span>, index=<span class="keyword">None</span>)</span><br><span class="line">test.to_csv(<span class="string">'test_labels.csv'</span>, index=<span class="keyword">None</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ†åˆ«æ‰§è¡Œè„šæœ¬å°†è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®è½¬æ¢ä¸ºTFRecordï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line">protoc object_detection/protos/*.proto --python_out=.</span><br><span class="line"><span class="comment"># Create train data:</span></span><br><span class="line">  python generate_tfrecord.py --csv_input=data/train_labels.csv  --output_path=train.record</span><br><span class="line"></span><br><span class="line">  <span class="comment"># Create test data:</span></span><br><span class="line">  python generate_tfrecord.py --csv_input=data/test_labels.csv  --output_path=test.record</span><br></pre></td></tr></table></figure>
</li>
<li><p>å°†train.recordå’Œtest.recordçš„æ–‡ä»¶å­˜å‚¨è‡³æ ¹ç›®å½•çš„dataæ–‡ä»¶å¤¹ä¸‹</p>
</li>
<li><p>è‡³æ­¤æ•°æ®å‡†å¤‡åŸºæœ¬ç»“æŸï¼Œæˆ‘ä»¬åˆ›å»ºäº†å¦‚ä¸‹ç›®å½•ç»“æ„</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ annotations</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ 000001.xml</span><br><span class="line">          ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ 000229.xml</span><br><span class="line">â”œâ”€â”€ data</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ screen_labels.csv</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ test_labels.csv</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ test.record</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ train_labels.csv</span><br><span class="line">â”‚Â Â  â””â”€â”€ train.record</span><br><span class="line">â”œâ”€â”€ generate_tfrecord.py</span><br><span class="line">â”œâ”€â”€ images</span><br><span class="line">â”‚Â Â  â”œâ”€â”€ 000001.jpg</span><br><span class="line">         ...</span><br><span class="line">â”‚Â Â  â””â”€â”€ 000229.jpg</span><br><span class="line">â”œâ”€â”€ __init__.py</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ split labels.ipynb</span><br><span class="line">â”œâ”€â”€ test_generate_tfrecord.py</span><br><span class="line">â”œâ”€â”€ test_xml_to_csv.py</span><br><span class="line">â””â”€â”€ xml_to_csv.py</span><br><span class="line">â€‹</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="2-2-æ¨¡å‹é…ç½®-è¿ç§»å­¦ä¹ "><a href="#2-2-æ¨¡å‹é…ç½®-è¿ç§»å­¦ä¹ " class="headerlink" title="2.2 æ¨¡å‹é…ç½®/è¿ç§»å­¦ä¹ "></a>2.2 æ¨¡å‹é…ç½®/è¿ç§»å­¦ä¹ </h3><blockquote>
<p>å®Œå…¨ä»å¤´è®­ç»ƒä¸€ä¸ªç”¨äºç‰©ä½“æ£€æµ‹çš„æ¨¡å‹å³ä½¿é‡‡ç”¨å¤§é‡GPUèµ„æºè‡³å°‘ä¹Ÿéœ€è¦æ•°å‘¨æ—¶é—´ï¼Œä¸ºäº†åŠ é€Ÿæ¨¡å‹åˆæœŸè¿­ä»£è¿‡ç¨‹ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸€ä¸ªå·²ç»åœ¨COCOæ•°æ®é›†é’ˆå¯¹å…¶ä»–å¤šç§ç‰©ä½“è¯†åˆ«åœºæ™¯é¢„è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œé€šè¿‡é‡å¤ä½¿ç”¨è¯¥æ¨¡å‹çš„å¤šæ•°å‚æ•°æ¥å¿«é€Ÿç”Ÿæˆæˆ‘ä»¬çš„æ¨¡å‹ã€‚æ›´å¤šæŠ€æœ¯å†…å®¹å¯ä»¥å‚ç…§è¿ç§»å­¦ä¹ çš„æŠ€æœ¯å®ç°ã€‚</p>
</blockquote>
<p>ç”±äºæ²¡æœ‰è¶³å¤Ÿçš„èµ„æºä»å¤´è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨è¿ç§»å­¦ä¹ æŠ€æœ¯ï¼Œåˆ©ç”¨ä¸€ä¸ªå·²ç»è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¿ç§»å­¦ä¹ åŠè®­ç»ƒã€‚</p>
<p>ä»æµ‹è¯•è§’åº¦è€ƒè™‘ï¼Œæœ¬æµ‹è¯•æ–¹æ¡ˆé€‰æ‹©äº†ä½“ç§¯æœ€å°ï¼Œé€Ÿåº¦æœ€å¿«çš„ç”¨äºåµŒå…¥å¼è®¾å¤‡çš„SSDæ¨¡å‹ï¼š<a href="http://download.tensorflow.org/models/object_detection/ssd_mobilenet_v1_coco_2017_11_17.tar.gz" target="_blank" rel="noopener">ssd_mobilenet_v1_coco</a></p>
<p>ä¸‹è½½æ¨¡å‹åŒ…ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ object-detection.pbtxt	</span><br><span class="line">â”œâ”€â”€ ssd_mobilenet_v1_pets.config</span><br><span class="line">â”œâ”€â”€ checkpoint</span><br><span class="line">â”œâ”€â”€ frozen_inference_graph.pb</span><br><span class="line">â”œâ”€â”€ model.ckpt.data-00000-of-00001</span><br><span class="line">â”œâ”€â”€ model.ckpt.index</span><br><span class="line">â”œâ”€â”€ model.ckpt.meta</span><br><span class="line">â””â”€â”€ saved_model</span><br><span class="line">    â”œâ”€â”€ saved_model.pb</span><br><span class="line">    â””â”€â”€ variables</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>a graph proto (<code>graph.pbtxt</code>)</li>
<li>a checkpoint (<code>model.ckpt.data-00000-of-00001</code>, <code>model.ckpt.index</code>, <code>model.ckpt.meta</code>)</li>
<li>a frozen graph proto with weights baked into the graph as constants (<code>frozen_inference_graph.pb</code>) to be used for out of the box inference</li>
<li>a config file (<code>pipeline.config</code>) which was used to generate the graph. These directly correspond to a config file in the <a href="https://github.com/tensorflow/models/tree/master/research/object_detection/samples/configs" target="_blank" rel="noopener">samples/configs</a>) directory but often with a modified score threshold. </li>
</ul>
</blockquote>
<p>æˆ‘ä»¬ä¸‹è½½å¹¶åœ¨æ ¹ç›®å½•è§£å‹æ¨¡å‹åŒ…ssd_mobilenet_v1_cocoï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªtrainingæ–‡ä»¶ï¼Œå­˜å‚¨å¦‚ä¸‹æ–‡ä»¶ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">training/</span><br><span class="line">â”œâ”€â”€ object-detection.pbtxt</span><br><span class="line">â””â”€â”€ ssd_mobilenet_v1_pets.config</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ <code>object-detection.pbtxt</code>æ˜¯æˆ‘ä»¬æ¨¡å‹æ‰€æœ‰åˆ†ç±»çš„æ ‡ç­¾ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼Œå¦‚æœæœ‰å¤šä¸ªåˆ†ç±»idä»1å¼€å§‹é€’å¢ï¼ŒåŒæ—¶ç»™æ¯ä¸ªæ ‡ç­¾ä¸€ä¸ªå”¯ä¸€çš„åç§°</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">item &#123;</span><br><span class="line">  id: 1</span><br><span class="line">  name: <span class="string">'panel'</span></span><br><span class="line">&#125;</span><br><span class="line">item&#123;</span><br><span class="line">  id: 2</span><br><span class="line">  name: <span class="string">'å…¶ä»–åˆ†ç±»'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶"><a href="#é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶" class="headerlink" title="é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶"></a>é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶</h4><blockquote>
<p>æ›´å¤šå†…å®¹å‚è€ƒï¼š<a href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/configuring_jobs.md" target="_blank" rel="noopener">https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/configuring_jobs.md</a></p>
</blockquote>
<p>Tensorflow Object Detection API ä½¿ç”¨ protobuf æ–‡ä»¶æ¥é…ç½®è®­ç»ƒå’Œæ£€æµ‹çš„æµç¨‹ã€‚é€šè¿‡é…ç½®Training Piplelineçš„å‚æ•°é…ç½®å¯ä»¥å†³å®šè®­ç»ƒå‚æ•°çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†å°½é‡å¤šçš„åˆ©ç”¨å·²ç»è®­ç»ƒå¥½çš„å‚æ•°è¿›è¡Œè®­ç»ƒã€‚</p>
<p>ä¸€ä¸ªé…ç½®æ–‡ä»¶ç”±5éƒ¨åˆ†ç»„æˆï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">model &#123;</span><br><span class="line">(... Add model config here...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">train_config : &#123;</span><br><span class="line">(... Add train_config here...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">train_input_reader: &#123;</span><br><span class="line">(... Add train_input configuration here...)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">eval_config: &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">eval_input_reader: &#123;</span><br><span class="line">(... Add eval_input configuration here...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<ol>
<li>The <code>model</code> configuration. This defines what type of model will be trained (ie. meta-architecture, feature extractor).</li>
<li>The <code>train_config</code>, which decides what parameters should be used to train model parameters (ie. SGD parameters, input preprocessing and feature extractor initialization values).</li>
<li>The <code>eval_config</code>, which determines what set of metrics will be reported for evaluation (currently we only support the PASCAL VOC metrics).</li>
<li>The <code>train_input_config</code>, which defines what dataset the model should be trained on.</li>
<li>The <code>eval_input_config</code>, which defines what dataset the model will be evaluated on. Typically this should be different than the training input dataset.</li>
</ol>
</blockquote>
<p><code>ssd_mobilenet_v1_pets.config</code>ä¸ºæ¨¡å‹é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬åœ¨æ ·ä¾‹(è¯¦è§ï¼šobject_detection/samples/configs æ–‡ä»¶å¤¹)ä¸Šè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">  ssd &#123;</span><br><span class="line">    num_classes: 1                 <span class="comment">#ä¿®æ”¹ç±»åˆ«ä¸ºå®é™…ç±»åˆ«å€¼</span></span><br><span class="line">    box_coder &#123;</span><br><span class="line">      faster_rcnn_box_coder &#123;</span><br><span class="line">        y_scale: 10.0</span><br><span class="line">        x_scale: 10.0</span><br><span class="line">        height_scale: 5.0</span><br><span class="line">        width_scale: 5.0</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">fine_tune_checkpoint: <span class="string">"ssd_mobilenet_v1_coco_2017_11_17/model.ckpt"</span> <span class="comment">#æŒ‡å‘æ¨¡å‹æ–‡ä»¶ä¸­çš„checkpointæ–‡ä»¶</span></span><br><span class="line">train_input_reader: &#123;                                               </span><br><span class="line">  tf_record_input_reader &#123;</span><br><span class="line">    input_path: <span class="string">"data/train.record"</span>              <span class="comment">#ä¿®æ”¹ä¸ºä¸Šä¸€ä¸ªæ­¥éª¤ç”Ÿæˆçš„è®­ç»ƒrecordè·¯å¾„</span></span><br><span class="line">  &#125;</span><br><span class="line">  label_map_path: <span class="string">"data/object-detection.pbtxt"</span>  <span class="comment">#ä¿®æ”¹ä¸ºpbtxtæ–‡ä»¶è·¯å¾„ï¼Œæè¿°ç±»åˆ«æ ‡ç­¾</span></span><br><span class="line">&#125;</span><br><span class="line">eval_input_reader: &#123;</span><br><span class="line">  tf_record_input_reader &#123;</span><br><span class="line">    input_path: <span class="string">"data/test.record"</span>           <span class="comment">#ä¿®æ”¹ä¸ºä¸Šä¸€ä¸ªæ­¥éª¤ç”Ÿæˆçš„æµ‹è¯•æ•°æ®recordè·¯å¾„</span></span><br><span class="line">  &#125;</span><br><span class="line">  label_map_path: <span class="string">"data/object-detection.pbtxt"</span> <span class="comment">#ä¿®æ”¹ä¸ºpbtxtæ–‡ä»¶è·¯å¾„ï¼Œæè¿°ç±»åˆ«æ ‡ç­¾</span></span><br><span class="line">  shuffle: <span class="literal">false</span></span><br><span class="line">  num_readers: 1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><code>train_config</code> provides two fields to specify pre-existing checkpoints: <code>fine_tune_checkpoint</code> and <code>from_detection_checkpoint</code>. <code>fine_tune_checkpoint</code> should provide a path to the pre-existing checkpoint (ie:â€/usr/home/username/checkpoint/model.ckpt-#####â€). <code>from_detection_checkpoint</code> is a boolean value. If false, it assumes the checkpoint was from an object classification checkpoint. Note that starting from a detection checkpoint will usually result in a faster training job than a classification checkpoint.</p>
<p>The list of provided checkpoints can be found <a href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md" target="_blank" rel="noopener">here</a>.</p>
</blockquote>
<h3 id="2-3-è®­ç»ƒ"><a href="#2-3-è®­ç»ƒ" class="headerlink" title="2.3 è®­ç»ƒ"></a>2.3 è®­ç»ƒ</h3><h4 id="Tensorflow-Object-Detection-API-å®‰è£…"><a href="#Tensorflow-Object-Detection-API-å®‰è£…" class="headerlink" title="Tensorflow Object Detection API å®‰è£…"></a>Tensorflow Object Detection API å®‰è£…</h4><ol>
<li><p>ä»GitHubä¸‹è½½Tensorflow Object Detection API</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/tensorflow/models.git</span><br></pre></td></tr></table></figure>
</li>
<li><p>é…ç½®åŸºæœ¬ç¯å¢ƒ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Tensorflow Object Detection API depends on the following libraries:</span><br><span class="line">- Protobuf 2.6</span><br><span class="line">- Pillow 1.0</span><br><span class="line">- lxml</span><br><span class="line">- tf Slim (<span class="built_in">which</span> is included <span class="keyword">in</span> the <span class="string">"tensorflow/models/research/"</span> checkout)</span><br><span class="line">- Tensorflow</span><br><span class="line">sudo apt-get install protobuf-compiler python-pil python-lxml</span><br><span class="line">æˆ–è€…</span><br><span class="line">sudo pip install pillow</span><br><span class="line">sudo pip install lxml</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>3.Protobuf ç¼–è¯‘</p>
<p>Tensorflowé€šè¿‡Googleçš„Protobufsæ¥é…ç½®å’Œè®­ç»ƒæ¨¡å‹ï¼Œæ‰€ä»¥åœ¨å¼€å§‹ä½¿ç”¨ä¹‹å‰éœ€è¦å¯¹protobufç›¸å…³åº“è¿›è¡Œç¼–è¯‘ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line">protoc object_detection/protos/*.proto --python_out=.</span><br></pre></td></tr></table></figure>
<ol>
<li>Add Libraries to PYTHONPATH[<strong>é‡è¦</strong>]</li>
</ol>
<p>åœ¨è·¯å¾„ <code>tensorflow/models/research/</code> ä¸‹æ·»åŠ PYTHONPATHè·¯å¾„ï¼Œå®ç°å…¨å±€å¼•ç”¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="variable">$PYTHONPATH</span>:`<span class="built_in">pwd</span>`:`<span class="built_in">pwd</span>`/slim</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Note:</strong> This command needs to run from every new terminal you start. If you wish to avoid running this manually, you can add it as a new line to the end of your ~/.bashrc file.</p>
</blockquote>
<h4 id="å¯åŠ¨è®­ç»ƒè¿‡ç¨‹"><a href="#å¯åŠ¨è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="å¯åŠ¨è®­ç»ƒè¿‡ç¨‹"></a>å¯åŠ¨è®­ç»ƒè¿‡ç¨‹</h4><ol>
<li><p>å°†åœ¨æ•°æ®å‡†å¤‡å’Œæ¨¡å‹é…ç½®é˜¶æ®µçš„æ–‡ä»¶å¤åˆ¶åˆ°tensorflow object_detectæ–‡ä»¶å¤¹ä¸‹<code>/models/research/object_detection</code>,åŒ…æ‹¬data/æ–‡ä»¶å¤¹ï¼Œimage/æ–‡ä»¶å¤¹ï¼Œtraining/æ–‡ä»¶å¤¹ï¼Œssd_mobilenet_v1_coco_2017_11_17/åŸå§‹æ¨¡å‹æ–‡ä»¶å¤¹</p>
</li>
<li><p>æ‰§è¡Œå¦‚ä¸‹ä»£ç å¯åŠ¨è®­ç»ƒè¿‡ç¨‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From the tensorflow/models/research/ directory</span></span><br><span class="line">python object_detection/train.py \</span><br><span class="line">    --logtostderr \</span><br><span class="line">    --pipeline_config_path=<span class="variable">$&#123;PATH_TO_YOUR_PIPELINE_CONFIG&#125;</span> \</span><br><span class="line">    --train_dir=<span class="variable">$&#123;PATH_TO_TRAIN_DIR&#125;</span></span><br><span class="line">--------------------------------------------------------------------------------------------   </span><br><span class="line">python train.py --logtostderr --train_dir=training/ --pipeline_config_path=training/ssd_mobilenet_v1_pets.config</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="ä½¿ç”¨TensorBoard-è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹"><a href="#ä½¿ç”¨TensorBoard-è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹" class="headerlink" title="ä½¿ç”¨TensorBoard è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹"></a>ä½¿ç”¨TensorBoard è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹</h4><p>è®­ç»ƒè¿‡ç¨‹ä¼šæŒç»­å‡ ä¸ªå°æ—¶åˆ°åå‡ ä¸ªå°æ—¶ï¼Œå¯ä»¥é€šè¿‡tensorboardæŸ¥çœ‹è®­ç»ƒçš„æƒ…å†µ</p>
<p>ä½¿ç”¨ä¸€å°Azureçš„CPUè™šæ‹Ÿæœºè¿›è¡Œè®­ç»ƒ~4sè¿›è¡Œä¸€æ¬¡è¿­ä»£ï¼Œæ­£å¸¸æ¨¡å‹æœ‰æ¯”è¾ƒä¸é”™ç»“æœè¿­ä»£æ¬¡æ•°å¤§æ¦‚åœ¨10Kä»¥ä¸Šã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tensorboard --logdir=/training</span><br></pre></td></tr></table></figure>
<p><img src="/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/tensorboard_loss.PNG" alt="tensorboard_loss"></p>
<h3 id="2-4-å¯¼å‡ºæ¨¡å‹"><a href="#2-4-å¯¼å‡ºæ¨¡å‹" class="headerlink" title="2.4 å¯¼å‡ºæ¨¡å‹"></a>2.4 å¯¼å‡ºæ¨¡å‹</h3><p>æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œä¼šæ¯éš”ä¸€æ®µæ—¶é—´ç”Ÿæˆä¸€ä¸ªcheckpointï¼Œä¸€ä¸ªcheckpointè‡³å°‘åŒ…æ‹¬ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>model.ckpt-${CHECKPOINT_NUMBER}.data-00000-of-00001</li>
<li>model.ckpt-${CHECKPOINT_NUMBER}.index</li>
<li>model.ckpt-${CHECKPOINT_NUMBER}.meta</li>
</ul>
<p>å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤ä»checkpointsä¸­æå–æ¨¡å‹ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Example Usage:</span><br><span class="line">--------------</span><br><span class="line">python export_inference_graph \</span><br><span class="line">    --input_type image_tensor \</span><br><span class="line">    --pipeline_config_path path/to/ssd_inception_v2.config \</span><br><span class="line">    --trained_checkpoint_prefix path/to/model.ckpt \</span><br><span class="line">    --output_directory path/to/exported_model_directory</span><br><span class="line">    </span><br><span class="line">    -----</span><br><span class="line">The expected output would be <span class="keyword">in</span> the directory</span><br><span class="line">path/to/exported_model_directory (<span class="built_in">which</span> is created <span class="keyword">if</span> it does not exist)</span><br><span class="line">with contents:</span><br><span class="line"> - graph.pbtxt</span><br><span class="line"> - model.ckpt.data-00000-of-00001</span><br><span class="line"> - model.ckpt.info</span><br><span class="line"> - model.ckpt.meta</span><br><span class="line"> - frozen_inference_graph.pb</span><br><span class="line"> + saved_model (a directory)</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From tensorflow/models/research/</span></span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="variable">$PYTHONPATH</span>:`<span class="built_in">pwd</span>`:`<span class="built_in">pwd</span>`/slim</span><br><span class="line">python export_inference_graph.py \</span><br><span class="line">    --input_type image_tensor \</span><br><span class="line">    --pipeline_config_path training/ssd_mobilenet_v1_pets.config \</span><br><span class="line">    --trained_checkpoint_prefix training/model.ckpt-10116 \</span><br><span class="line">    --output_directory water_meter_panel</span><br><span class="line">-----</span><br><span class="line">-----</span><br><span class="line">WARNING:tensorflow:From /home/gaoc/data/<span class="built_in">test</span>/object_detect/models/research/object_detection/exporter.py:357: get_or_create_global_step (from tensorflow.contrib.framework.python.ops.variables) is deprecated and will be removed <span class="keyword">in</span> a future version.</span><br><span class="line">Instructions <span class="keyword">for</span> updating:</span><br><span class="line">Please switch to tf.train.get_or_create_global_step</span><br><span class="line">2018-01-20 06:34:08.551446: I tensorflow/core/platform/cpu_feature_guard.cc:137] Your CPU supports instructions that this TensorFlow binary was not compiled to use: SSE4.1 SSE4.2 AVX AVX2 FMA</span><br><span class="line">2018-01-20 06:34:14.056881: I tensorflow/core/grappler/devices.cc:51] Number of eligible GPUs (core count &gt;= 8): 0</span><br><span class="line">Converted 199 variables to const ops.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å¦‚æœ<code>Exportor.py</code>æ–‡ä»¶æŠ¥bugï¼Œè¯·å‚è€ƒ<a href="https://github.com/tensorflow/models/issues/2861" target="_blank" rel="noopener">https://github.com/tensorflow/models/issues/2861</a> ä¿®å¤</p>
</blockquote>
<p>è¿è¡Œä»¥ä¸Šä»£ç ï¼Œå°†åœ¨<code>water_meter_panel</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆæ¨¡å‹æ‰€éœ€çš„ç›¸å…³æ–‡ä»¶ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">gaoc@DataScience:~/data/<span class="built_in">test</span>/object_detect/models/research/object_detection$ ls -l water_meter_panel/</span><br><span class="line">total 44820</span><br><span class="line">-rw-r--r-- 1 gaoc root       77 Jan 20 06:34 checkpoint</span><br><span class="line">-rw-r--r-- 1 gaoc root 22636802 Jan 20 06:34 frozen_inference_graph.pb</span><br><span class="line">-rw-r--r-- 1 gaoc root 22174240 Jan 20 06:34 model.ckpt.data-00000-of-00001</span><br><span class="line">-rw-r--r-- 1 gaoc root     8873 Jan 20 06:34 model.ckpt.index</span><br><span class="line">-rw-r--r-- 1 gaoc root  1058139 Jan 20 06:34 model.ckpt.meta</span><br><span class="line">drwxr-xr-x 3 gaoc root     4096 Jan 20 06:34 saved_model</span><br><span class="line">water_meter_panel/</span><br><span class="line">â”œâ”€â”€ checkpoint</span><br><span class="line">â”œâ”€â”€ frozen_inference_graph.pb</span><br><span class="line">â”œâ”€â”€ model.ckpt.data-00000-of-00001</span><br><span class="line">â”œâ”€â”€ model.ckpt.index</span><br><span class="line">â”œâ”€â”€ model.ckpt.meta</span><br><span class="line">â””â”€â”€ saved_model</span><br><span class="line">    â”œâ”€â”€ saved_model.pb</span><br><span class="line">    â””â”€â”€ variables</span><br></pre></td></tr></table></figure>
<h3 id="2-5-æµ‹è¯•"><a href="#2-5-æµ‹è¯•" class="headerlink" title="2.5 æµ‹è¯•"></a>2.5 æµ‹è¯•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># From the tensorflow/models/research/ directory</span></span><br><span class="line">python object_detection/eval.py \</span><br><span class="line">    --logtostderr \</span><br><span class="line">    --pipeline_config_path=<span class="variable">$&#123;PATH_TO_YOUR_PIPELINE_CONFIG&#125;</span> \</span><br><span class="line">    --checkpoint_dir=<span class="variable">$&#123;PATH_TO_TRAIN_DIR&#125;</span> \</span><br><span class="line">    --eval_dir=<span class="variable">$&#123;PATH_TO_EVAL_DIR&#125;</span></span><br></pre></td></tr></table></figure>
<p>ç‰©ä½“è¯†åˆ«é¢†åŸŸçš„ç®—æ³•æ€§èƒ½è¯„ä»·æŒ‡æ ‡å¤šæ•°é€‰æ‹©APå’ŒmAPï¼ˆmean average precisionï¼‰ï¼Œå¤šä¸ªç±»åˆ«ç‰©ä½“æ£€æµ‹ä¸­ï¼Œæ¯ä¸€ä¸ªç±»åˆ«éƒ½å¯ä»¥æ ¹æ®recallå’Œprecisionç»˜åˆ¶ä¸€æ¡æ›²çº¿ï¼ŒAPå°±æ˜¯è¯¥æ›²çº¿ä¸‹çš„é¢ç§¯ï¼ŒmAPæ˜¯å¤šä¸ªç±»åˆ«APçš„å¹³å‡å€¼</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Average Precision (AP):</span><br><span class="line">AP% AP at IoU=.50:.05:.95 (primary challenge metric) APIoU=.50% AP at IoU=.50 (PASCAL VOC metric) APIoU=.75% AP at IoU=.75 (strict metric) </span><br><span class="line">AP Across Scales:</span><br><span class="line">APsmall% AP <span class="keyword">for</span> small objects: area &lt; 322 APmedium% AP <span class="keyword">for</span> medium objects: 322 &lt; area &lt; 962 APlarge% AP <span class="keyword">for</span> large objects: area &gt; 962 </span><br><span class="line">Average Recall (AR):</span><br><span class="line">ARmax=1% AR given 1 detection per image ARmax=10% AR given 10 detections per image ARmax=100% AR given 100 detections per image </span><br><span class="line">AR Across Scales:</span><br><span class="line">ARsmall% AR <span class="keyword">for</span> small objects: area &lt; 322 ARmedium% AR <span class="keyword">for</span> medium objects: 322 &lt; area &lt; 962 ARlarge% AR <span class="keyword">for</span> large objects: area &gt; 962</span><br></pre></td></tr></table></figure>
<p><img src="/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/AP_MAP.PNG" alt="AP_MAP"></p>
<p>ä»æ€§èƒ½æµ‹è¯•ç»“æœæ¥çœ‹è¯¥æ¨¡å‹å·²ç»å…·å¤‡96%çš„æ£€æµ‹ç²¾åº¦äº†ï¼Œå…·å¤‡æŠ•å…¥ç”Ÿäº§ç¯å¢ƒæ‰€éœ€çš„æ€§èƒ½ã€‚</p>
<p>é¢„æµ‹ç»“æœè§ä¸‹å›¾ï¼Œå‡†ç¡®ç‡è¾¾åˆ°äº†99%ä»¥ä¸Šã€‚</p>
<p><img src="/qnsource/images/2018-04-14-TensorFlow-Object-Detection-API/detect_demo.png" alt="detect_demo"></p>
<h2 id="3-ç»“è®º"><a href="#3-ç»“è®º" class="headerlink" title="3. ç»“è®º"></a>3. ç»“è®º</h2><ul>
<li>å¯¹äºç®€å•ä¸šåŠ¡åœºæ™¯çš„ç‰©ä½“è¯†åˆ«ç±»æ¡ˆä¾‹ï¼Œå¯ä»¥é€šè¿‡è¿ç§»å­¦ä¹ åˆ©ç”¨å·²æœ‰çš„æˆç†Ÿæ¨¡å‹å¿«é€Ÿè¿­ä»£ç”Ÿæˆæ–°çš„ç‰¹å®šæ¨¡å‹ï¼›</li>
<li>è¿™ç§è¿ç§»çš„å¦ä¸€ä¸ªä¼˜åŠ¿æ˜¯å¯¹å°æ•°æ®æ ·æœ¬å…·å¤‡å¾ˆå¥½çš„é€‚åº”èƒ½åŠ›ï¼Œå¯ä»¥è§£å†³å‰æœŸæ•°æ®ä¸è¶³å’Œæ•°æ®è´¨é‡å·®çš„é—®é¢˜ï¼›</li>
<li>å½“ç„¶é‡‡ç”¨è¿™ç§æ–¹å¼ä¹ŸåŒæ—¶å­˜åœ¨ä¸€å®šçš„å¼Šç«¯ï¼Œæ¯”å¦‚ç”±äºæ¨¡å‹é¢„è®­ç»ƒå‚æ•°è¾ƒå¤šï¼Œæ¨¡å‹ä½“ç§¯è¾ƒå¤§ï¼Œæ¨¡å‹çš„é€‰å–éœ€è¦åå¤æµ‹è¯•å’Œä¼˜åŒ–ã€‚</li>
</ul>
<h3 id="3-1-ç»éªŒæ€»ç»“"><a href="#3-1-ç»éªŒæ€»ç»“" class="headerlink" title="3.1 ç»éªŒæ€»ç»“"></a>3.1 ç»éªŒæ€»ç»“</h3><ol>
<li><p>è™½ç„¶Tensorflow Object Detection APIæä¾›äº†ä¸°å¯Œçš„æ–‡æ¡£ä»‹ç»ç›¸å…³å·¥ä½œæµç¨‹ï¼Œä½†ç”±äºæŠ€æœ¯ã€å¹³å°å’Œè½¯ä»¶ç‰ˆæœ¬æœ¬èº«æ›´æ–°è¾ƒå¿«ï¼Œå®è·µä¸­è¿˜æ˜¯æˆ–å¤šæˆ–å°‘ä¼šé‡åˆ°ä¸å°‘é—®é¢˜ï¼Œé™ä¸‹å¿ƒæ¥å¤šç¿»ç¿»Githubçš„issuesé‡Œä¸€èˆ¬éƒ½æœ‰åˆ«äººçš„æé—®åŠè§£ç­”ï¼›å»ºè®®è¿˜æ˜¯å…ˆæ ¹æ®æ–‡æ¡£è·‘é€šdemoï¼Œç†Ÿæ‚‰ç›¸å…³å·¥å…·å’Œæµç¨‹å†å°†æ¡†æ¶è¿ç§»åˆ°è‡ªå·±çš„æ•°æ®é›†ä¹‹ä¸Šï¼›</p>
</li>
<li><p>å»ºè®®è‡ªå·±è¯†åˆ«çš„é¡¹ç›®æ–‡ä»¶å•ç‹¬å»ºç«‹ä¸€ä¸ªæ•°æ®å‡†å¤‡æ–‡ä»¶å¤¹è¿›è¡Œæ•°æ®å‡†å¤‡å’Œç›¸å…³é…ç½®è„šæœ¬çš„å‡†å¤‡ï¼Œä¸è¦è·ŸGithubå…‹éš†çš„Object Detectioné¡¹ç›®æ··åœ¨ä¸€èµ·ï¼Œä¸å®¹æ˜“ç®¡ç†ï¼Œä¹Ÿä¸åˆ©äºé‡å¤åˆ©ç”¨ï¼›</p>
</li>
<li><p>TFOD APIæä¾›çš„Tensorflowå¯è§†åŒ–ç›¸å½“å®Œå¤‡ï¼Œå¯åŠ¨è®­ç»ƒä»»åŠ¡ä¹‹åï¼Œä¸€å®šè¦åŒæ­¥å¯åŠ¨éªŒè¯è„šæœ¬ï¼Œå¯ä»¥å®æ—¶è·Ÿè¸ªè®­ç»ƒè¿›ç¨‹ï¼›</p>
</li>
<li><p>å¾ˆå®¹æ˜“ç–å¿½çš„ä¸€ä¸ªæ­¥éª¤æ˜¯å…³äºPYTHON PATHçš„å¤„ç†ï¼Œåœ¨æ‰§è¡Œç›¸å…³APIä¹‹å‰ä¸€å®šè¦è®°å¾—EXPORTç›¸å…³pathï¼Œå¯ä»¥äº›ä¸€ä¸ªbashæ–‡ä»¶ï¼Œåœ¨æ‰§è¡Œå‘½ä»¤çš„Terminalä¸­sourceä¸€ä¸‹ï¼›å¸¸è§é”™è¯¯å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ImportError: No module named â€™object_detectionâ€™</span><br></pre></td></tr></table></figure>
</li>
<li><p>å……åˆ†åˆ©ç”¨GPUå’ŒCPUè¿›è¡Œè®­ç»ƒï¼š</p>
<ol>
<li><p>å¦‚æœä½¿ç”¨CPUè®­ç»ƒï¼Œæ§åˆ¶é…ç½®å‚æ•°ä¸­<code>num_examples</code>ä¸ºä¸€ä¸ªå¾ˆå°çš„å€¼ï¼ˆ5-10ï¼‰ï¼Œè¿™æ ·å°†ä½¿ç”¨éªŒè¯æ•°æ®ä¸­çš„ä¸€éƒ¨åˆ†è¿›è¡ŒéªŒè¯è€Œä¸æ˜¯å…¨éƒ¨ï¼›</p>
</li>
<li><p>é…ç½®<code>CUDA_VISIBLE_DEVICES</code>ç¯å¢ƒå˜é‡ï¼Œé€‰æ‹©ä½¿ç”¨å“ªä¸ªGPUæˆ–CPUæ¥åˆ†é…å†…å­˜èµ„æºï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ export CUDA_VISIBLE_DEVICES="0"</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ export CUDA_VISIBLE_DEVICES="1"</span><br><span class="line">... another scripts</span><br></pre></td></tr></table></figure>
<p>é…ç½®ä¸ºç©ºä½¿ç”¨CPU</p>
</li>
</ol>
</li>
<li><p>å°½é‡ä½¿ç”¨æœ€æ–°ç‰ˆçš„Tensorflowï¼Œåœ¨æ’°å†™æœ¬æ–‡æ—¶å·²ç»æ˜¯1.7äº†ï¼Œå½“æ—¶åšå®éªŒç”¨çš„æ˜¯1.4ï¼Œå¤ç°çš„æ—¶å€™å‘ç°1.4ç‰ˆæœ¬å·²ç»æŠ›é”™äº†â€¦</p>
</li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><blockquote id="fn_1">
<sup>1</sup>. The TensorFlow Object Detection API is an open source framework built on top of TensorFlow that makes it easy to construct, train and deploy object detection models.<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. See <a href="http://cocodataset.org/#detections-eval" target="_blank" rel="noopener">MSCOCO evaluation protocol</a>.<a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#8617;</a>
</blockquote>
<ol>
<li><a href="https://www.kernix.com/blog/image-classification-with-a-pre-trained-deep-neural-network_p11" target="_blank" rel="noopener">Image classification with a pre-trained deep neural network</a></li>
<li><a href="https://towardsdatascience.com/how-to-train-your-own-object-detector-with-tensorflows-object-detector-api-bec72ecfe1d9" target="_blank" rel="noopener">How to train your own Object Detector with TensorFlowâ€™s Object Detector API</a></li>
<li><a href="https://github.com/datitran/raccoon_dataset" target="_blank" rel="noopener">https://github.com/datitran/raccoon_dataset</a></li>
</ol>

      
    </div>
    <footer class="article-footer">

      
        <div id="donation_div"></div>

<script src="/js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'å¦‚æœè§‰å¾—æˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·éšæ„æ‰“èµã€‚æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ!', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'æ‰“èµæ”¯æŒ', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: '/qnsource/site/weixin.png',
  alipayImage: '/qnsource/site/alipay.jpg'
});
</script>
      
      
      <div>
        <ul class="post-copyright">
          <li class="post-copyright-author">
          <strong>æœ¬æ–‡ä½œè€…:  </strong>Ebby DD</a>
          </li>
          <li class="post-copyright-link">
          <strong>æœ¬æ–‡é“¾æ¥:  </strong>
          <a href="/2018/04/14/TensorFlow-Object-Detection-API/" target="_blank" title="ä½¿ç”¨TensorFlow Object Detection APIè¯†åˆ«ä»ªè¡¨è¡¨ç›˜">http://blog.a-stack.com/2018/04/14/TensorFlow-Object-Detection-API/</a>
          </li>
          <li class="post-copyright-license">
            <strong>ç‰ˆæƒå£°æ˜:   </strong>
            æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">CC BY-NC-ND 4.0</a>
            è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„
          </li>
         
        </ul>
<div>

      

      
      <!--  -->

      <!--  -->
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AI/">AI</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å®è·µ/">å®è·µ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å·¥å…·/">å·¥å…·</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ç‰©ä½“è¯†åˆ«/">ç‰©ä½“è¯†åˆ«</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/04/20/Backpropagation-in-Neural-Network/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          Backpropagation in Neural Network
        
      </div>
    </a>
  
  
    <a href="/2018/04/13/Object-Detection-Faster-RCNN/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">ç‰©ä½“è¯†åˆ«æŠ€æœ¯ä¹‹Faster R-CNN</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-æ¦‚è¿°"><span class="nav-number">1.</span> <span class="nav-text">1. æ¦‚è¿°</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-æ¨¡å‹åŠç®—æ³•é€‰å‹"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 æ¨¡å‹åŠç®—æ³•é€‰å‹</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-å®ç°æµç¨‹"><span class="nav-number">2.</span> <span class="nav-text">2. å®ç°æµç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-æ•°æ®å‡†å¤‡"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 æ•°æ®å‡†å¤‡</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#æ•°æ®æ ‡è®°"><span class="nav-number">2.1.1.</span> <span class="nav-text">æ•°æ®æ ‡è®°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#æ•°æ®æè¿°æ ¼å¼"><span class="nav-number">2.1.2.</span> <span class="nav-text">æ•°æ®æè¿°æ ¼å¼</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-æ¨¡å‹é…ç½®-è¿ç§»å­¦ä¹ "><span class="nav-number">2.2.</span> <span class="nav-text">2.2 æ¨¡å‹é…ç½®/è¿ç§»å­¦ä¹ </span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶"><span class="nav-number">2.2.1.</span> <span class="nav-text">é…ç½®ç‰©ä½“è¯†åˆ«è®­ç»ƒæµç¨‹æ–‡ä»¶</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-è®­ç»ƒ"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 è®­ç»ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Tensorflow-Object-Detection-API-å®‰è£…"><span class="nav-number">2.3.1.</span> <span class="nav-text">Tensorflow Object Detection API å®‰è£…</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#å¯åŠ¨è®­ç»ƒè¿‡ç¨‹"><span class="nav-number">2.3.2.</span> <span class="nav-text">å¯åŠ¨è®­ç»ƒè¿‡ç¨‹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ä½¿ç”¨TensorBoard-è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹"><span class="nav-number">2.3.3.</span> <span class="nav-text">ä½¿ç”¨TensorBoard è·Ÿè¸ªè®­ç»ƒè¿‡ç¨‹</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-å¯¼å‡ºæ¨¡å‹"><span class="nav-number">2.4.</span> <span class="nav-text">2.4 å¯¼å‡ºæ¨¡å‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-æµ‹è¯•"><span class="nav-number">2.5.</span> <span class="nav-text">2.5 æµ‹è¯•</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-ç»“è®º"><span class="nav-number">3.</span> <span class="nav-text">3. ç»“è®º</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-ç»éªŒæ€»ç»“"><span class="nav-number">3.1.</span> <span class="nav-text">3.1 ç»éªŒæ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å‚è€ƒ"><span class="nav-number">4.</span> <span class="nav-text">å‚è€ƒ</span></a></li></ol>
    
    </div>
  </aside>

</section>      
        
      </div>
      <!--  -->
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2017 - 2018 Ebby&#39;s Notes All Rights Reserved.</p>
	      
	      
  		   	<p id="copyRightCn">Ebby DD ä¿ç•™æ‰€æœ‰æƒåˆ©</p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>    
    <!-- <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/categories" class="mobile-nav-link">Categories</a>
  
    <a href="/tags" class="mobile-nav-link">Tags</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
    <a href="/reading" class="mobile-nav-link">Reading</a>
  
    <a href="/resources" class="mobile-nav-link">Resources</a>
  
    <a href="/notebooks" class="mobile-nav-link">ğŸ“</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/scripts.js"></script>




  <script src="/js/dialog.js"></script>











	<script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?{{ theme.baidu_analytics }}";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            Ebby&#39;s Notes
          </div>
          <div class="panel-body">
            Copyright Â© 2018 Ebby DD All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>