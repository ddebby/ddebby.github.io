<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³• - Ebby&#39;s Notes</title>


    <meta name="description" content="æ‘˜è¦ï¼š è®¡åˆ’èŠ±ä¸€ä¸ªæœˆçš„æ—¶é—´åˆ·ä¸€éæ–¯å¦ç¦çš„æœºå™¨è§†è§‰è¯¾ç¨‹cs231nï¼Œå¹¶åšç¬”è®°è®°å½•æ¯å¤©å­¦ä¹ åˆ°çš„å†…å®¹ã€‚">
<meta name="keywords" content="äººå·¥æ™ºèƒ½,æ·±åº¦å­¦ä¹ ,æŠ€æœ¯,ç®—æ³•">
<meta property="og:type" content="article">
<meta property="og:title" content="cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³•">
<meta property="og:url" content="http://blog.a-stack.com/2018/05/03/cs231n-lecture-3/index.html">
<meta property="og:site_name" content="Ebby&#39;s Notes">
<meta property="og:description" content="æ‘˜è¦ï¼š è®¡åˆ’èŠ±ä¸€ä¸ªæœˆçš„æ—¶é—´åˆ·ä¸€éæ–¯å¦ç¦çš„æœºå™¨è§†è§‰è¯¾ç¨‹cs231nï¼Œå¹¶åšç¬”è®°è®°å½•æ¯å¤©å­¦ä¹ åˆ°çš„å†…å®¹ã€‚">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://blog.a-stack.com/images/og_image.png">
<meta property="og:updated_time" content="2018-05-16T13:59:35.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³•">
<meta name="twitter:description" content="æ‘˜è¦ï¼š è®¡åˆ’èŠ±ä¸€ä¸ªæœˆçš„æ—¶é—´åˆ·ä¸€éæ–¯å¦ç¦çš„æœºå™¨è§†è§‰è¯¾ç¨‹cs231nï¼Œå¹¶åšç¬”è®°è®°å½•æ¯å¤©å­¦ä¹ åˆ°çš„å†…å®¹ã€‚">
<meta name="twitter:image" content="http://blog.a-stack.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/tomorrow.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    <script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?684368b6943d7a5b6689dba5e7bf30ad";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script>
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo02.png" alt="cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³•" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">ä¸»é¡µ</a>
                
                <a class="navbar-item"
                href="/archives">å½’æ¡£</a>
                
                <a class="navbar-item"
                href="/categories">åˆ†ç±»</a>
                
                <a class="navbar-item"
                href="/tags">æ ‡ç­¾</a>
                
                <a class="navbar-item"
                href="/reading">è¯»ä¹¦</a>
                
                <a class="navbar-item"
                href="/resources">èµ„æº</a>
                
                <a class="navbar-item"
                href="/notebooks">ğŸ“</a>
                
                <a class="navbar-item"
                href="/about">å…³äº</a>
                
            </div>
            
            <div class="navbar-end">
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="ç›®å½•" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="æœç´¢" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main">
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-05-03T08:51:26.000Z">2018-05-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/è¯»ä¹¦ç¬”è®°/">è¯»ä¹¦ç¬”è®°</a>&nbsp;/&nbsp;<a class="has-link-grey -link" href="/categories/è¯»ä¹¦ç¬”è®°/è¯¾ç¨‹ç¬”è®°/">è¯¾ç¨‹ç¬”è®°</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 åˆ†é’Ÿ è¯»å®Œ (å¤§çº¦ 1603 ä¸ªå­—)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>æ¬¡è®¿é—®
                </span>
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³•
            
        </h1>
        <div class="content">
            <p><strong>æ‘˜è¦ï¼š</strong> è®¡åˆ’èŠ±ä¸€ä¸ªæœˆçš„æ—¶é—´åˆ·ä¸€éæ–¯å¦ç¦çš„æœºå™¨è§†è§‰è¯¾ç¨‹cs231nï¼Œå¹¶åšç¬”è®°è®°å½•æ¯å¤©å­¦ä¹ åˆ°çš„å†…å®¹ã€‚</p>
<a id="more"></a>
<h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>cs231næ˜¯æ–¯å¦ç¦åœ¨æ·±åº¦å­¦ä¹ å’Œæœºå™¨è§†è§‰é¢†åŸŸçš„å…¥é—¨ç»å…¸è¯¾ç¨‹ï¼Œç›¸å…³èµ„æºå¦‚ä¸‹ï¼š</p>
<ul>
<li>è¯¾ç¨‹ä¸»é¡µï¼š <a href="http://cs231n.stanford.edu/">http://cs231n.stanford.edu/</a></li>
<li>è¯¾ç¨‹Notesï¼š<a href="http://cs231n.github.io/">http://cs231n.github.io/</a></li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>Event Type</th>
<th>Date</th>
<th>Description</th>
<th>Course Materials</th>
</tr>
</thead>
<tbody>
<tr>
<td>Lecture 3</td>
<td>Tuesday April 10</td>
<td><strong>Loss Functions and Optimization</strong> Linear classification IIHigher-level representations, image featuresOptimization, stochastic gradient descent</td>
<td><a href="http://cs231n.stanford.edu/slides/2018/cs231n_2018_lecture03.pdf">[slides]</a> <a href="http://cs231n.github.io/linear-classify">[linear classification notes]</a><a href="http://cs231n.github.io/optimization-1">[optimization notes]</a></td>
</tr>
</tbody>
</table>
</div>
<h2 id="çº¿æ€§åˆ†ç±»å™¨-2"><a href="#çº¿æ€§åˆ†ç±»å™¨-2" class="headerlink" title="çº¿æ€§åˆ†ç±»å™¨ 2"></a>çº¿æ€§åˆ†ç±»å™¨ <sup><a href="#fn_2" id="reffn_2">2</a></sup></h2><p><img src="/qnsource/images/2018-04-28-cs231n-notes/linear_classification.png" alt="linear_classification"></p>
<p><strong>Interpretation of linear classifiers as template matching.</strong> Another interpretation for the weights WW is that each row of WW corresponds to a <em>template</em> (or sometimes also called a <em>prototype</em>) for one of the classes. The score of each class for an image is then obtained by comparing each template with the image using an <em>inner product</em> (or <em>dot product</em>) one by one to find the one that â€œfitsâ€ best. With this terminology, the linear classifier is doing template matching, where the templates are learned. Another way to think of it is that we are still effectively doing Nearest Neighbor, but instead of having thousands of training images we are only using a single image per class (although we will learn it, and it does not necessarily have to be one of the images in the training set), and we use the (negative) inner product as the distance instead of the L1 or L2 distance.</p>
<p>çº¿æ€§åˆ†ç±»å™¨æœ¬è´¨ä¸Šå¯ä»¥ç†è§£ä¸ºä¸€ç§æ¨¡æ¿åŒ¹é…ç®—æ³•ï¼ŒåŒ¹é…ä¸åˆ†ç±»æ¨¡æ¿æœ€ç›¸è¿‘çš„æ¨¡æ¿ï¼Œä½†ç”±äºçº¿æ€§åˆ†ç±»å™¨çš„ç®€å•æ€§è´¨ï¼Œå¯¼è‡´æ¯ä¸ªç±»æœ€ç»ˆåªèƒ½å­¦ä¹ åˆ°ä¸€ä¸ªæ¨¡æ¿ï¼Œå¦‚æœç›®æ ‡ç±»åˆ«æœ‰è¾ƒå¤§çš„å·®å¼‚ï¼Œå°±éœ€è¦æŠŠè¿™äº›å·®å¼‚å¹³å‡åŒ–ã€‚ï¼ˆè¿™ä¹Ÿæ˜¯ç¥ç»ç½‘ç»œå±‚æ¬¡ç‰¹æ€§çš„ä¼˜è¶Šæ€§ï¼‰</p>
<p><img src="/qnsource/images/2018-04-28-cs231n-notes/linear_classification_3view_points.png" alt="linear_classification_3view_points"></p>
<h3 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h3><h4 id="å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°5"><a href="#å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°5" class="headerlink" title="å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°5"></a>å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°<sup><a href="#fn_5" id="reffn_5">5</a></sup></h4><p>SVMçš„ç›®æ ‡å‡½æ•°å®šä¹‰ï¼š</p>
<script type="math/tex; mode=display">
\begin{equation}
\min_{ {w},\xi_n}\frac{1}{2} {w}^T {w}+C\sum_{n=1}^N\xi_n  \\
s.t.  {w}^T {x}_ny_n\ge1-\xi_n \ \forall n \\
 \xi_n \ge 0 \ \forall n
 \end{equation}</script><p>ä¸ºè®¡ç®—æ–¹ä¾¿ï¼Œå…¶ä¸­åç§»é‡å·²ç»è¢«åŒ…å«åœ¨æƒé‡ä¹‹ä¸­ã€‚</p>
<p>ä¸Šè¿°é—®é¢˜çš„ä¼˜åŒ–é—®é¢˜å¯¹ç­‰å¦‚ä¸‹é—®é¢˜(L1-SVM)ï¼š</p>
<script type="math/tex; mode=display">
\min_{\bold{w}}\frac{1}{2}\bold{w}^T\bold{w}+C\sum_{n=1}^N \max(1-\bold{w}^T \bold{x_n}y_n, 0)</script><p>å’ŒL2-SVMï¼š</p>
<script type="math/tex; mode=display">
\min_{\bold{w}}\frac{1}{2}\bold{w}^T\bold{w}+C\sum_{n=1}^N \max(1-\bold{w}^T \bold{x_n}y_n, 0)^2</script><p>å¯¹äºç¬¬iä¸ªæ ·æœ¬ï¼Œå¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°å®šä¹‰ä¸ºï¼š</p>
<script type="math/tex; mode=display">
L_i = \sum_{j\neq y_i} \max(0, s_j - s_{y_i} + \Delta)</script><blockquote>
<p>åˆé¡µæŸå¤±å‡½æ•°ï¼ˆhinge lossï¼‰ï¼Œä¸€èˆ¬æˆ‘ä»¬ä»¤$\Delta =1$</p>
<p>å…¶ä¸­$s_{y_i}$ ä¸ºé¢„æµ‹å€¼</p>
<p>$j \neq y_i$ çš„æ„æ€æ˜¯åªæœ‰é”™è¯¯çš„åˆ†ç±»æ‰å åŠ æŸå¤±ï¼Œæ­£ç¡®çš„åˆ†ç±»ä¸å¯¹æŸå¤±äº§ç”Ÿå½±å“</p>
</blockquote>
<p><strong>å¸¦æ­£åˆ™åŒ–çš„æŸå¤±å‡½æ•°</strong></p>
<script type="math/tex; mode=display">
L =  \underbrace{ \frac{1}{N} \sum_i L_i }_\text{data loss} + \underbrace{ \lambda R(W) }_\text{regularization loss}</script><script type="math/tex; mode=display">
L = \frac{1}{N} \sum_i \sum_{j\neq y_i} \left[ \max(0, f(x_i; W)_j - f(x_i; W)_{y_i} + \Delta) \right] + \lambda \sum_k\sum_l W_{k,l}^2</script><blockquote>
<p>Note that biases do not have the same effect since, unlike the weights, they do not control the strength of influence of an input dimension. Therefore, it is common to only regularize the weights $W$ but not the biases $b$. </p>
<p>$\Delta=1.0$ å³å¯ï¼Œç”±äºæƒé‡å¯ä»¥æ¯”ä¾‹è°ƒèŠ‚ï¼Œæ‰€ä»¥å®é™…ä¸Š$\Delta$ ç­‰äº1å’Œ100æ„ä¹‰æ˜¯ä¸€æ ·çš„ï¼›</p>
</blockquote>
<p><strong>ä¸SVMçº¿æ€§åˆ†ç±»å™¨å…³ç³»</strong></p>
<p>SVMçº¿æ€§åˆ†ç±»å™¨æ˜¯å¤šåˆ†ç±»çš„ä¸€ä¸ªç‰¹ä¾‹ï¼Œ</p>
<script type="math/tex; mode=display">
L_i = C \max(0, 1 - y_i w^Tx_i) + R(W)</script><h4 id="å¼•ç”³é˜…è¯»-SVM4"><a href="#å¼•ç”³é˜…è¯»-SVM4" class="headerlink" title="[å¼•ç”³é˜…è¯»]SVM4"></a>[<strong>å¼•ç”³é˜…è¯»</strong>]SVM<sup><a href="#fn_4" id="reffn_4">4</a></sup></h4><blockquote>
<p>å•ç‹¬æ‘˜æˆä¸€ç¯‡åšæ–‡å§ï¼Œè¦æƒ³å½»åº•ææ¸…æ¥šSVMå†…å®¹å®åœ¨æ˜¯æœ‰ç‚¹å¤š</p>
</blockquote>
<h4 id="Softmax-åˆ†ç±»å™¨"><a href="#Softmax-åˆ†ç±»å™¨" class="headerlink" title="Softmax åˆ†ç±»å™¨"></a>Softmax åˆ†ç±»å™¨</h4><p>åœ¨Softmaxä¸­ä½¿ç”¨äº¤å‰ç†µ(cross-entropy loss)æŸå¤±å‡½æ•°ï¼Œ</p>
<script type="math/tex; mode=display">
L_i = -\log\left(\frac{e^{f_{y_i}}}{ \sum_j e^{f_j} }\right) \hspace{0.5in} \text{or equivalently} \hspace{0.5in} L_i = -f_{y_i} + \log\sum_j e^{f_j}</script><p>å…¶ä¸­å‡½æ•°$f_j(z) = \frac{e^{z_j}}{\sum_k e^{z_k}}$ ä¸ºSoftmaxå‡½æ•°,ç»™å‡ºäº†åˆ†ç±»ç»“æœçš„æ¦‚ç‡åˆ†å¸ƒæè¿°ã€‚</p>
<p><strong>æ¢¯åº¦è®¡ç®—å…¬å¼ï¼š</strong></p>
<script type="math/tex; mode=display">
\begin{equation}  
dW=
\left\{  
             \begin{array}{lr}  
             (-1 + \frac{e^{\hat f_{y_i}}}{\sum_j e^{f_j}})x_i, &  j=i\\  
              \frac{e^{\hat f_{y_i}}}{\sum_j e^{f_j}}x_i, &   j \neq i 
             \end{array}  
\right.  
\end{equation}</script><p><strong>å‘é‡åŒ–å®ç°ï¼š</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">score = X.dot(W)  <span class="comment"># N x C</span></span><br><span class="line">N = X.shape[<span class="number">0</span>]</span><br><span class="line">correct_score = score[np.arange(N),y].reshape(N,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">exp_sum = np.sum(np.exp(score),axis=<span class="number">1</span>).reshape(N,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">loss += np.sum(np.log(exp_sum) - correct_score)</span><br><span class="line"></span><br><span class="line">loss /= N</span><br><span class="line">loss += reg * <span class="number">0.5</span> * np.sum(W*W)</span><br><span class="line"></span><br><span class="line">margin = np.exp(score)/exp_sum</span><br><span class="line">margin[np.arange(N),y] -= <span class="number">1</span></span><br><span class="line">dW = X.T.dot(margin)</span><br><span class="line"></span><br><span class="line">dW /=N</span><br><span class="line">dW += reg*W</span><br></pre></td></tr></table></figure>
<p><strong>äº¤å‰ç†µå‡½æ•°ï¼š</strong></p>
<p>çœŸå®åˆ†ç±»çš„åˆ†å¸ƒ$p$ å’Œä¼°è®¡åˆ†å¸ƒ$q$ çš„äº¤å‰ç†µå®šä¹‰ä¸ºï¼š</p>
<script type="math/tex; mode=display">
H(p,q) = - \sum_x p(x) \log q(x)</script><blockquote>
<p>Softmax æœ€å°åŒ–äº¤å‰ç†µæˆ–æœ€å¤§åŒ–æå¤§ä¼¼ç„¶å‡½æ•°æ¥æ±‚è§£é—®é¢˜ï¼›SVMé€šè¿‡å¯»æ‰¾æœ€å¤§ç•Œé¢è·ç¦»æ¥ä¼˜åŒ–ç›®æ ‡ã€‚</p>
</blockquote>
<h2 id="ä¼˜åŒ–ç®—æ³•3"><a href="#ä¼˜åŒ–ç®—æ³•3" class="headerlink" title="ä¼˜åŒ–ç®—æ³•3"></a>ä¼˜åŒ–ç®—æ³•<sup><a href="#fn_3" id="reffn_3">3</a></sup></h2><ol>
<li><p>æ¢¯åº¦æ•°å€¼è§£ï¼ˆæ¢¯åº¦æ ¡éªŒï¼‰</p>
<script type="math/tex; mode=display">
\frac{df(x)}{dx} = \lim_{h\ \to 0} \frac{f(x + h) - f(x)}{h}</script><p>$[f(x+h) - f(x-h)] / 2 h$ æ˜¯ä¸€ç§æ›´å¥½çš„å®ç°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">eval_numerical_gradient</span><span class="params">(f, x)</span>:</span></span><br><span class="line">  <span class="string">""" </span></span><br><span class="line"><span class="string">  a naive implementation of numerical gradient of f at x </span></span><br><span class="line"><span class="string">  - f should be a function that takes a single argument</span></span><br><span class="line"><span class="string">  - x is the point (numpy array) to evaluate the gradient at</span></span><br><span class="line"><span class="string">  """</span> </span><br><span class="line"></span><br><span class="line">  fx = f(x) <span class="comment"># evaluate function value at original point</span></span><br><span class="line">  grad = np.zeros(x.shape)</span><br><span class="line">  h = <span class="number">0.00001</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># iterate over all indexes in x</span></span><br><span class="line">  it = np.nditer(x, flags=[<span class="string">'multi_index'</span>], op_flags=[<span class="string">'readwrite'</span>])</span><br><span class="line">  <span class="keyword">while</span> <span class="keyword">not</span> it.finished:</span><br><span class="line"></span><br><span class="line">    <span class="comment"># evaluate function at x+h</span></span><br><span class="line">    ix = it.multi_index</span><br><span class="line">    old_value = x[ix]</span><br><span class="line">    x[ix] = old_value + h <span class="comment"># increment by h</span></span><br><span class="line">    fxh = f(x) <span class="comment"># evalute f(x + h)</span></span><br><span class="line">    x[ix] = old_value <span class="comment"># restore to previous value (very important!)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># compute the partial derivative</span></span><br><span class="line">    grad[ix] = (fxh - fx) / h <span class="comment"># the slope</span></span><br><span class="line">    it.iternext() <span class="comment"># step to next dimension</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> grad</span><br></pre></td></tr></table></figure>
</li>
<li><p>å½“é€‚åº”SVMä»£ä»·å‡½æ•°ï¼š</p>
<script type="math/tex; mode=display">
L_i = \sum_{j\neq y_i} \left[ \max(0, w_j^Tx_i - w_{y_i}^Tx_i + \Delta) \right]</script><p>ä»£ä»·å‡½æ•°å…³äºæƒé‡çš„åå¯¼ä¸ºï¼š</p>
<script type="math/tex; mode=display">
\nabla_{w_{y_i}} L_i = - \left( \sum_{j\neq y_i} \mathbb{1}(w_j^Tx_i - w_{y_i}^Tx_i + \Delta > 0) \right) x_i</script><script type="math/tex; mode=display">
\nabla_{w_j} L_i = \mathbb{1}(w_j^Tx_i - w_{y_i}^Tx_i + \Delta > 0) x_i</script></li>
</ol>
<h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><blockquote id="fn_2">
<sup>2</sup>. <a href="http://cs231n.github.io/linear-classify/">CS231n Notes:linear classify</a><a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. <a href="http://cs231n.github.io/optimization-1/">CS231n Notes:Optimization</a><a href="#reffn_3" title="Jump back to footnote [3] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_4">
<sup>4</sup>. <a href="http://cs229.stanford.edu/notes/cs229-notes3.pdf">CS229 Lecture Notes: SVM</a><a href="#reffn_4" title="Jump back to footnote [4] in the text."> &#8617;</a>
</blockquote>
<blockquote id="fn_5">
<sup>5</sup>. <a href="http://arxiv.org/abs/1306.0239">Deep Learning using Linear Support Vector Machines</a> from Charlie Tang 2013 presents some results claiming that the L2SVM outperforms Softmax.<a href="#reffn_5" title="Jump back to footnote [5] in the text."> &#8617;</a>
</blockquote>

        </div>
        
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <span class="is-size-6 has-text-grey has-mr-7">#</span>
                    <a class="has-link-grey -link" href="/tags/äººå·¥æ™ºèƒ½/">äººå·¥æ™ºèƒ½</a>, <a class="has-link-grey -link" href="/tags/æœºå™¨è§†è§‰/">æœºå™¨è§†è§‰</a>, <a class="has-link-grey -link" href="/tags/ç¬”è®°/">ç¬”è®°</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='https://platform-api.sharethis.com/js/sharethis.js#property=5e762f775039a80012d346d9&amp;product=inline-share-buttons&amp;cms=sop' async='async'></script>

        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="menu-label has-text-centered">å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Ÿæ‰“èµä¸€ä¸‹ä½œè€…å§</h3>
        <div class="buttons is-centered">
            
                
<a class="button is-info donate">
    <span class="icon is-small">
        <i class="fab fa-alipay"></i>
    </span>
    <span>æ”¯ä»˜å®</span>
    <div class="qrcode"><img src="/images/site/alipay.jpg" alt="æ”¯ä»˜å®"></div>
</a>

                
                
<a class="button is-success donate">
    <span class="icon is-small">
        <i class="fab fa-weixin"></i>
    </span>
    <span>å¾®ä¿¡</span>
    <div class="qrcode"><img src="/images/site/weixin.png" alt="å¾®ä¿¡"></div>
</a>

                
        </div>
    </div>
</div>



<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/2018/05/03/cs231n-lecture-4/">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">cs231nè¯¾ç¨‹ç¬”è®°ï¼šï¼ˆLecture 4ï¼‰ç¥ç»ç½‘ç»œåŸºç¡€</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/2018/05/03/cs231n-lecture-2/">
                <span class="level-item">cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 2ï¼‰å›¾åƒåˆ†ç±»</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">è¯„è®º</h3>
        
<script>
    var disqus_config = function () {
        this.page.url = 'http://blog.a-stack.com/2018/05/03/cs231n-lecture-3/';
        this.page.identifier = '2018/05/03/cs231n-lecture-3/';
    };
    (function() {
        var d = document, s = d.createElement('script');  
        s.src = '//' + 'EbbyNotes' + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>

<div id="disqus_thread">
    
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </div>
</div>
</div>
                
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-3 column-right is-sticky">
    
        

    <div class="card widget" id="toc">
        <div class="card-content">
            <div class="menu">
                <h3 class="menu-label">
                    ç›®å½•
                </h3>
                <ul class="menu-list"><li>
        <a class="is-flex" href="#æ¦‚è¿°">
        <span class="has-mr-6">1</span>
        <span>æ¦‚è¿°</span>
        </a></li><li>
        <a class="is-flex" href="#çº¿æ€§åˆ†ç±»å™¨-2">
        <span class="has-mr-6">2</span>
        <span>çº¿æ€§åˆ†ç±»å™¨ 2</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#ä»£ä»·å‡½æ•°">
        <span class="has-mr-6">2.1</span>
        <span>ä»£ä»·å‡½æ•°</span>
        </a><ul class="menu-list"><li>
        <a class="is-flex" href="#å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°5">
        <span class="has-mr-6">2.1.1</span>
        <span>å¤šåˆ†ç±»SVMä»£ä»·å‡½æ•°5</span>
        </a></li><li>
        <a class="is-flex" href="#å¼•ç”³é˜…è¯»-SVM4">
        <span class="has-mr-6">2.1.2</span>
        <span>[å¼•ç”³é˜…è¯»]SVM4</span>
        </a></li><li>
        <a class="is-flex" href="#Softmax-åˆ†ç±»å™¨">
        <span class="has-mr-6">2.1.3</span>
        <span>Softmax åˆ†ç±»å™¨</span>
        </a></li></ul></li></ul></li><li>
        <a class="is-flex" href="#ä¼˜åŒ–ç®—æ³•3">
        <span class="has-mr-6">3</span>
        <span>ä¼˜åŒ–ç®—æ³•3</span>
        </a></li><li>
        <a class="is-flex" href="#å‚è€ƒ">
        <span class="has-mr-6">4</span>
        <span>å‚è€ƒ</span>
        </a></li></ul>
            </div>
        </div>
    </div>

    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            æœ€æ–°æ–‡ç« 
        </h3>
        
        <article class="media">
            
            <a href="/2020/03/21/å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/blog/cvat.jpg" alt="å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-03-21T13:23:49.000Z">2020-03-21</time></div>
                    <a href="/2020/03/21/å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT/" class="title has-link-black-ter is-size-6 has-text-weight-normal">å›¾åƒæ•°æ®æ ‡æ³¨å·¥å…·æ¨è-CVAT</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/07/Pathlib-Pythonçš„è·¯å¾„ç®¡ç†åº“/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/16.jpg" alt="Pathlib--Pythonçš„è·¯å¾„ç®¡ç†åº“">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-07T08:53:05.000Z">2019-05-07</time></div>
                    <a href="/2019/05/07/Pathlib-Pythonçš„è·¯å¾„ç®¡ç†åº“/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Pathlib--Pythonçš„è·¯å¾„ç®¡ç†åº“</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥å…·/">å·¥å…·</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/02/01/ä»å¤´è®­ç»ƒä¸€ä¸ªå›¾åƒåˆ†ç±»å™¨/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/08.jpg" alt="ä»å¤´è®­ç»ƒä¸€ä¸ªå›¾åƒåˆ†ç±»å™¨">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-02-01T02:16:46.000Z">2019-02-01</time></div>
                    <a href="/2019/02/01/ä»å¤´è®­ç»ƒä¸€ä¸ªå›¾åƒåˆ†ç±»å™¨/" class="title has-link-black-ter is-size-6 has-text-weight-normal">ä»å¤´è®­ç»ƒä¸€ä¸ªå›¾åƒåˆ†ç±»å™¨</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/01/24/2018å¹´æ€»ç»“ï¼šæ¥è‡ª18å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/02.jpg" alt="2018å¹´æ€»ç»“ï¼šæ¥è‡ª18å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-01-24T06:50:22.000Z">2019-01-24</time></div>
                    <a href="/2019/01/24/2018å¹´æ€»ç»“ï¼šæ¥è‡ª18å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ/" class="title has-link-black-ter is-size-6 has-text-weight-normal">2018å¹´æ€»ç»“ï¼šæ¥è‡ª18å¹´çš„å·¥ä½œæ„Ÿæ‚Ÿ</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/å·¥ä½œæ€»ç»“/">å·¥ä½œæ€»ç»“</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/01/12/Batch-Normalization-æ‰¹é‡å½’ä¸€åŒ–/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/../qnsource/banner/05.jpg" alt="Batch-Normalization(æ‰¹é‡å½’ä¸€åŒ–)">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-01-12T14:45:29.000Z">2019-01-12</time></div>
                    <a href="/2019/01/12/Batch-Normalization-æ‰¹é‡å½’ä¸€åŒ–/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Batch-Normalization(æ‰¹é‡å½’ä¸€åŒ–)</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/æ·±åº¦å­¦ä¹ /">æ·±åº¦å­¦ä¹ </a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo02.png" alt="cs231nè¯¾ç¨‹ç¬”è®°:ï¼ˆLecture 3ï¼‰çº¿æ€§åˆ†ç±»å™¨å’Œä¼˜åŒ–æ–¹æ³•" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 Ebby DD&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>  æ²ªICPå¤‡20005404å·
                
                <br>
                <span id="busuanzi_container_site_uv">
                å…±<span id="busuanzi_value_site_uv">0</span>ä¸ªè®¿å®¢
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'http://blog.a-stack.com',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="å›åˆ°é¡¶ç«¯" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="æƒ³è¦æŸ¥æ‰¾ä»€ä¹ˆ..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'æ–‡ç« ',
                PAGES: 'é¡µé¢',
                CATEGORIES: 'åˆ†ç±»',
                TAGS: 'æ ‡ç­¾',
                UNTITLED: '(æ— æ ‡é¢˜)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>